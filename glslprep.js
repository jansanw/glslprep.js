#!/usr/bin/env node

var fs = require('fs');
var path = require('path');

var COMPILED=!0,goog=goog||{};goog.global=this;goog.isDef=function(b){return void 0!==b};goog.exportPath_=function(b,d,e){b=b.split(".");e=e||goog.global;b[0]in e||!e.execScript||e.execScript("var "+b[0]);for(var g;b.length&&(g=b.shift());)!b.length&&goog.isDef(d)?e[g]=d:e=e[g]?e[g]:e[g]={}};
goog.define=function(b,d){var e=d;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,b)?e=goog.global.CLOSURE_UNCOMPILED_DEFINES[b]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,b)&&(e=goog.global.CLOSURE_DEFINES[b]));goog.exportPath_(b,e)};goog.DEBUG=!0;goog.LOCALE="en";goog.TRUSTED_SITE=!0;goog.STRICT_MODE_COMPATIBLE=!1;goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG;
goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;goog.provide=function(b){if(!COMPILED&&goog.isProvided_(b))throw Error('Namespace "'+b+'" already declared.');goog.constructNamespace_(b)};goog.constructNamespace_=function(b,d){if(!COMPILED){delete goog.implicitNamespaces_[b];for(var e=b;(e=e.substring(0,e.lastIndexOf(".")))&&!goog.getObjectByName(e);)goog.implicitNamespaces_[e]=!0}goog.exportPath_(b,d)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
goog.module=function(b){if(!goog.isString(b)||!b||-1==b.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+b+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=b;if(!COMPILED){if(goog.isProvided_(b))throw Error('Namespace "'+b+'" already declared.');delete goog.implicitNamespaces_[b]}};goog.module.get=function(b){return goog.module.getInternal_(b)};
goog.module.getInternal_=function(b){if(!COMPILED)return goog.isProvided_(b)?b in goog.loadedModules_?goog.loadedModules_[b]:goog.getObjectByName(b):null};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_};goog.module.declareTestMethods=function(){if(!goog.isInModuleLoader_())throw Error("goog.module.declareTestMethods must be called from within a goog.module");goog.moduleLoaderState_.declareTestMethods=!0};
goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0};
goog.setTestOnly=function(b){if(goog.DISALLOW_TEST_ONLY_CODE)throw b=b||"",Error("Importing test-only code into non-debug environment"+(b?": "+b:"."));};goog.forwardDeclare=function(b){};COMPILED||(goog.isProvided_=function(b){return b in goog.loadedModules_||!goog.implicitNamespaces_[b]&&goog.isDefAndNotNull(goog.getObjectByName(b))},goog.implicitNamespaces_={"goog.module":!0});
goog.getObjectByName=function(b,d){for(var e=b.split("."),g=d||goog.global,k;k=e.shift();)if(goog.isDefAndNotNull(g[k]))g=g[k];else return null;return g};goog.globalize=function(b,d){var e=d||goog.global,g;for(g in b)e[g]=b[g]};goog.addDependency=function(b,d,e,g){if(goog.DEPENDENCIES_ENABLED){var k;b=b.replace(/\\/g,"/");for(var m=goog.dependencies_,r=0;k=d[r];r++)m.nameToPath[k]=b,m.pathIsModule[b]=!!g;for(g=0;d=e[g];g++)b in m.requires||(m.requires[b]={}),m.requires[b][d]=!0}};
goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(b){goog.global.console&&goog.global.console.error(b)};
goog.require=function(b){if(!COMPILED){goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(b);if(goog.isProvided_(b))return goog.isInModuleLoader_()?goog.module.getInternal_(b):null;if(goog.ENABLE_DEBUG_LOADER){var d=goog.getPathFromDeps_(b);if(d)return goog.included_[d]=!0,goog.writeScripts_(),null}b="goog.require could not find: "+b;goog.logToConsole_(b);throw Error(b);}};goog.basePath="";goog.nullFunction=function(){};
goog.abstractMethod=function(){throw Error("unimplemented abstract method");};goog.addSingletonGetter=function(b){b.getInstance=function(){if(b.instance_)return b.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=b);return b.instance_=new b}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;
goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var b=goog.global.document;return"undefined"!=typeof b&&"write"in b},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var b=goog.global.document.getElementsByTagName("SCRIPT"),d=b.length-1;0<=d;--d){var e=b[d].src,g=e.lastIndexOf("?"),
g=-1==g?e.length:g;if("base.js"==e.substr(g-7,7)){goog.basePath=e.substr(0,g-7);break}}},goog.importScript_=function(b,d){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(b,d)&&(goog.dependencies_.written[b]=!0)},goog.IS_OLD_IE_=!goog.global.atob&&goog.global.document&&goog.global.document.all,goog.importModule_=function(b){goog.importScript_("",'goog.retrieveAndExecModule_("'+b+'");')&&(goog.dependencies_.written[b]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(b,d){return goog.LOAD_MODULE_USING_EVAL&&
goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(d+"\n//# sourceURL="+b+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+d+"\n;return exports});\n//# sourceURL="+b+"\n"},goog.loadQueuedModules_=function(){var b=goog.queuedModules_.length;if(0<b){var d=goog.queuedModules_;goog.queuedModules_=[];for(var e=0;e<b;e++)goog.maybeProcessDeferredPath_(d[e])}},goog.maybeProcessDeferredDep_=function(b){goog.isDeferredModule_(b)&&goog.allDepsAreAvailable_(b)&&(b=goog.getPathFromDeps_(b),
goog.maybeProcessDeferredPath_(goog.basePath+b))},goog.isDeferredModule_=function(b){return(b=goog.getPathFromDeps_(b))&&goog.dependencies_.pathIsModule[b]?goog.basePath+b in goog.dependencies_.deferred:!1},goog.allDepsAreAvailable_=function(b){if((b=goog.getPathFromDeps_(b))&&b in goog.dependencies_.requires)for(var d in goog.dependencies_.requires[b])if(!goog.isProvided_(d)&&!goog.isDeferredModule_(d))return!1;return!0},goog.maybeProcessDeferredPath_=function(b){if(b in goog.dependencies_.deferred){var d=
goog.dependencies_.deferred[b];delete goog.dependencies_.deferred[b];goog.globalEval(d)}},goog.loadModule=function(b){var d=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareTestMethods:!1};var e;if(goog.isFunction(b))e=b.call(goog.global,{});else if(goog.isString(b))e=goog.loadModuleFromSource_.call(goog.global,b);else throw Error("Invalid module definition");var g=goog.moduleLoaderState_.moduleName;if(!goog.isString(g)||!g)throw Error('Invalid module name "'+g+'"');goog.moduleLoaderState_.declareLegacyNamespace?
goog.constructNamespace_(g,e):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(e);goog.loadedModules_[g]=e;if(goog.moduleLoaderState_.declareTestMethods)for(var k in e)if(0===k.indexOf("test",0)||"tearDown"==k||"setUp"==k||"setUpPage"==k||"tearDownPage"==k)goog.global[k]=e[k]}finally{goog.moduleLoaderState_=d}},goog.loadModuleFromSource_=function(b){eval(b);return{}},goog.writeScriptSrcNode_=function(b){goog.global.document.write('<script type="text/javascript" src="'+b+'">\x3c/script>')},goog.appendScriptSrcNode_=
function(b){var d=goog.global.document,e=d.createElement("script");e.type="text/javascript";e.src=b;e.defer=!1;e.async=!1;d.head.appendChild(e)},goog.writeScriptTag_=function(b,d){if(goog.inHtmlDocument_()){var e=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==e.readyState){if(/\bdeps.js$/.test(b))return!1;throw Error('Cannot write "'+b+'" after document load');}var g=goog.IS_OLD_IE_;void 0===d?g?(g=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+
")' ",e.write('<script type="text/javascript" src="'+b+'"'+g+">\x3c/script>")):goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(b):goog.writeScriptSrcNode_(b):e.write('<script type="text/javascript">'+d+"\x3c/script>");return!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(b,d){"complete"==b.readyState&&goog.lastNonModuleScriptIndex_==d&&goog.loadQueuedModules_();return!0},goog.writeScripts_=function(){function b(k){if(!(k in g.written)){if(!(k in g.visited)&&
(g.visited[k]=!0,k in g.requires))for(var m in g.requires[k])if(!goog.isProvided_(m))if(m in g.nameToPath)b(g.nameToPath[m]);else throw Error("Undefined nameToPath for "+m);k in e||(e[k]=!0,d.push(k))}}var d=[],e={},g=goog.dependencies_,k;for(k in goog.included_)g.written[k]||b(k);for(var m=0;m<d.length;m++)k=d[m],goog.dependencies_.written[k]=!0;var r=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(m=0;m<d.length;m++)if(k=d[m])g.pathIsModule[k]?goog.importModule_(goog.basePath+k):goog.importScript_(goog.basePath+
k);else throw goog.moduleLoaderState_=r,Error("Undefined script input");goog.moduleLoaderState_=r},goog.getPathFromDeps_=function(b){return b in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[b]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js"));goog.normalizePath_=function(b){b=b.split("/");for(var d=0;d<b.length;)"."==b[d]?b.splice(d,1):d&&".."==b[d]&&b[d-1]&&".."!=b[d-1]?b.splice(--d,2):d++;return b.join("/")};
goog.loadFileSync_=function(b){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(b);var d=new goog.global.XMLHttpRequest;d.open("get",b,!1);d.send();return d.responseText};
goog.retrieveAndExecModule_=function(b){if(!COMPILED){var d=b;b=goog.normalizePath_(b);var e=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,g=goog.loadFileSync_(b);if(null!=g)g=goog.wrapModule_(b,g),goog.IS_OLD_IE_?(goog.dependencies_.deferred[d]=g,goog.queuedModules_.push(d)):e(b,g);else throw Error("load of "+b+"failed");}};
goog.typeOf=function(b){var d=typeof b;if("object"==d)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return d;var e=Object.prototype.toString.call(b);if("[object Window]"==e)return"object";if("[object Array]"==e||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==e||"undefined"!=typeof b.call&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==d&&"undefined"==typeof b.call)return"object";return d};goog.isNull=function(b){return null===b};goog.isDefAndNotNull=function(b){return null!=b};goog.isArray=function(b){return"array"==goog.typeOf(b)};goog.isArrayLike=function(b){var d=goog.typeOf(b);return"array"==d||"object"==d&&"number"==typeof b.length};goog.isDateLike=function(b){return goog.isObject(b)&&"function"==typeof b.getFullYear};goog.isString=function(b){return"string"==typeof b};
goog.isBoolean=function(b){return"boolean"==typeof b};goog.isNumber=function(b){return"number"==typeof b};goog.isFunction=function(b){return"function"==goog.typeOf(b)};goog.isObject=function(b){var d=typeof b;return"object"==d&&null!=b||"function"==d};goog.getUid=function(b){return b[goog.UID_PROPERTY_]||(b[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(b){return!!b[goog.UID_PROPERTY_]};goog.removeUid=function(b){"removeAttribute"in b&&b.removeAttribute(goog.UID_PROPERTY_);try{delete b[goog.UID_PROPERTY_]}catch(d){}};
goog.UID_PROPERTY_="closure_uid_"+(1E9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(b){var d=goog.typeOf(b);if("object"==d||"array"==d){if(b.clone)return b.clone();var d="array"==d?[]:{},e;for(e in b)d[e]=goog.cloneObject(b[e]);return d}return b};goog.bindNative_=function(b,d,e){return b.call.apply(b.bind,arguments)};
goog.bindJs_=function(b,d,e){if(!b)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,g);return b.apply(d,e)}}return function(){return b.apply(d,arguments)}};goog.bind=function(b,d,e){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(b,d){var e=Array.prototype.slice.call(arguments,1);return function(){var d=e.slice();d.push.apply(d,arguments);return b.apply(this,d)}};goog.mixin=function(b,d){for(var e in d)b[e]=d[e]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};
goog.globalEval=function(b){if(goog.global.execScript)goog.global.execScript(b,"JavaScript");else if(goog.global.eval)if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(b);else{var d=goog.global.document,e=d.createElement("SCRIPT");e.type="text/javascript";e.defer=!1;e.appendChild(d.createTextNode(b));d.body.appendChild(e);
d.body.removeChild(e)}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(b,d){var e=function(b){return goog.cssNameMapping_[b]||b},g=function(b){b=b.split("-");for(var d=[],g=0;g<b.length;g++)d.push(e(b[g]));return d.join("-")},g=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?e:g:function(b){return b};return d?b+"-"+g(d):g(b)};goog.setCssNameMapping=function(b,d){goog.cssNameMapping_=b;goog.cssNameMappingStyle_=d};
!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(b,d){d&&(b=b.replace(/\{\$([^}]+)}/g,function(b,g){return g in d?d[g]:b}));return b};goog.getMsgWithFallback=function(b,d){return b};goog.exportSymbol=function(b,d,e){goog.exportPath_(b,d,e)};goog.exportProperty=function(b,d,e){b[d]=e};
goog.inherits=function(b,d){function e(){}e.prototype=d.prototype;b.superClass_=d.prototype;b.prototype=new e;b.prototype.constructor=b;b.base=function(b,e,m){for(var r=Array(arguments.length-2),p=2;p<arguments.length;p++)r[p-2]=arguments[p];return d.prototype[e].apply(b,r)}};
goog.base=function(b,d,e){var g=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!g)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(g.superClass_){for(var k=Array(arguments.length-1),m=1;m<arguments.length;m++)k[m-1]=arguments[m];return g.superClass_.constructor.apply(b,k)}k=Array(arguments.length-2);for(m=2;m<arguments.length;m++)k[m-2]=arguments[m];for(var m=!1,r=b.constructor;r;r=
r.superClass_&&r.superClass_.constructor)if(r.prototype[d]===g)m=!0;else if(m)return r.prototype[d].apply(b,k);if(b[d]===g)return b.constructor.prototype[d].apply(b,k);throw Error("goog.base called from a method of one name to a method of a different name");};goog.scope=function(b){b.call(goog.global)};COMPILED||(goog.global.COMPILED=COMPILED);
goog.defineClass=function(b,d){var e=d.constructor,g=d.statics;e&&e!=Object.prototype.constructor||(e=function(){throw Error("cannot instantiate an interface (no constructor defined).");});e=goog.defineClass.createSealingConstructor_(e,b);b&&goog.inherits(e,b);delete d.constructor;delete d.statics;goog.defineClass.applyProperties_(e.prototype,d);null!=g&&(g instanceof Function?g(e):goog.defineClass.applyProperties_(e,g));return e};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;
goog.defineClass.createSealingConstructor_=function(b,d){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(d&&d.prototype&&d.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return b;var e=function(){var d=b.apply(this,arguments)||this;d[goog.UID_PROPERTY_]=d[goog.UID_PROPERTY_];this.constructor===e&&Object.seal(d);return d};return e}return b};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.defineClass.applyProperties_=function(b,d){for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e]);for(var g=0;g<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;g++)e=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[g],Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])};goog.tagUnsealableClass=function(b){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(b.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";var glslunit={glsl:{}};glslunit.glsl.parser={};
glslunit.glsl.parser.parse=function(b,d){function e(c){var a=c.charCodeAt(0),b;255>=a?(c="x",b=2):(c="u",b=4);c="\\"+c;var f=a.toString(16).toUpperCase(),a=f;b-=f.length;for(f=0;f<b;f++)a="0"+a;return c+a}function g(c){return'"'+c.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,e)+'"'}function k(b){c<Q||(c>Q&&(Q=c,xa=[]),xa.push(b))}function m(){var d=
"newLine@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h;h=c;/^[\n]/.test(b.charAt(c))?(a=b.charAt(c),c++):(a=null,0===l&&k("[\\n]"));null!==a&&(a="\n");null===a&&(c=h);n[d]={nextPos:c,result:a};return a}function r(){var d="EOF@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h;h=c;l++;b.length>c?(a=b.charAt(c),c++):(a=null,0===l&&k("any character"));l--;null===a?a="":(a=null,c=h);n[d]={nextPos:c,result:a};return a}function p(){var d="_@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h;l++;h=m();
null===h&&(/^[\\\n]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[\\\\\\n]")),null===h&&(/^[\r\t\f\x0B ]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[\\r\\t\\f\\x0B ]")),null===h&&(h=E())));if(null!==h)for(a=[];null!==h;)a.push(h),h=m(),null===h&&(/^[\\\n]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[\\\\\\n]")),null===h&&(/^[\r\t\f\x0B ]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[\\r\\t\\f\\x0B ]")),null===h&&(h=E())));else a=null;l--;0===l&&null===
a&&k("whitespace");n[d]={nextPos:c,result:a};return a}function z(){var d="noNewlineComment@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,v,e,g;e=c;"/*"===b.substr(c,2)?(a="/*",c+=2):(a=null,0===l&&k('"/*"'));if(null!==a){h=[];v=g=c;l++;"*/"===b.substr(c,2)?(f="*/",c+=2):(f=null,0===l&&k('"*/"'));l--;null===f?f="":(f=null,c=v);null!==f?(b.length>c?(v=b.charAt(c),c++):(v=null,0===l&&k("any character")),null!==v?f=[f,v]:(f=null,c=g)):(f=null,c=g);for(;null!==f;)h.push(f),v=g=c,l++,"*/"===b.substr(c,
2)?(f="*/",c+=2):(f=null,0===l&&k('"*/"')),l--,null===f?f="":(f=null,c=v),null!==f?(b.length>c?(v=b.charAt(c),c++):(v=null,0===l&&k("any character")),null!==v?f=[f,v]:(f=null,c=g)):(f=null,c=g);null!==h?("*/"===b.substr(c,2)?(f="*/",c+=2):(f=null,0===l&&k('"*/"')),null!==f?a=[a,h,f]:(a=null,c=e)):(a=null,c=e)}else a=null,c=e;if(null===a)if(e=c,"//"===b.substr(c,2)?(a="//",c+=2):(a=null,0===l&&k('"//"')),null!==a){h=[];/^[^\n]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,0===l&&k("[^\\n]"));for(;null!==
f;)h.push(f),/^[^\n]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,0===l&&k("[^\\n]"));null!==h?a=[a,h]:(a=null,c=e)}else a=null,c=e;n[d]={nextPos:c,result:a};return a}function w(){var d="noNewlineWhitespace@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h;/^[\r\t\f\x0B ]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[\\r\\t\\f\\x0B ]"));null===h&&(h=z());if(null!==h)for(a=[];null!==h;)a.push(h),/^[\r\t\f\x0B ]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[\\r\\t\\f\\x0B ]")),
null===h&&(h=z());else a=null;n[d]={nextPos:c,result:a};return a}function E(){var d="comment@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,v,e,g;l++;e=c;"/*"===b.substr(c,2)?(a="/*",c+=2):(a=null,0===l&&k('"/*"'));if(null!==a){h=[];v=g=c;l++;"*/"===b.substr(c,2)?(f="*/",c+=2):(f=null,0===l&&k('"*/"'));l--;null===f?f="":(f=null,c=v);null!==f?(b.length>c?(v=b.charAt(c),c++):(v=null,0===l&&k("any character")),null!==v?f=[f,v]:(f=null,c=g)):(f=null,c=g);for(;null!==f;)h.push(f),v=g=c,l++,"*/"===
b.substr(c,2)?(f="*/",c+=2):(f=null,0===l&&k('"*/"')),l--,null===f?f="":(f=null,c=v),null!==f?(b.length>c?(v=b.charAt(c),c++):(v=null,0===l&&k("any character")),null!==v?f=[f,v]:(f=null,c=g)):(f=null,c=g);null!==h?("*/"===b.substr(c,2)?(f="*/",c+=2):(f=null,0===l&&k('"*/"')),null!==f?a=[a,h,f]:(a=null,c=e)):(a=null,c=e)}else a=null,c=e;if(null===a)if(e=c,"//"===b.substr(c,2)?(a="//",c+=2):(a=null,0===l&&k('"//"')),null!==a){h=[];/^[^\n]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,0===l&&k("[^\\n]"));
for(;null!==f;)h.push(f),/^[^\n]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,0===l&&k("[^\\n]"));null!==h?(f=m(),null===f&&(f=r()),null!==f?a=[a,h,f]:(a=null,c=e)):(a=null,c=e)}else a=null,c=e;l--;0===l&&null===a&&k("comment");n[d]={nextPos:c,result:a};return a}function B(){var d="semicolon@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,v;v=c;a=p();a=null!==a?a:"";null!==a?(59===b.charCodeAt(c)?(h=";",c+=1):(h=null,0===l&&k('";"')),null!==h?(f=p(),f=null!==f?f:"",null!==f?a=[a,h,f]:(a=null,
c=v)):(a=null,c=v)):(a=null,c=v);n[d]={nextPos:c,result:a};return a}function u(){var d="comma@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,v;v=c;a=p();a=null!==a?a:"";null!==a?(44===b.charCodeAt(c)?(h=",",c+=1):(h=null,0===l&&k('","')),null!==h?(f=p(),f=null!==f?f:"",null!==f?a=[a,h,f]:(a=null,c=v)):(a=null,c=v)):(a=null,c=v);n[d]={nextPos:c,result:a};return a}function F(){var d="left_bracket@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,v;v=c;a=p();a=null!==a?a:"";null!==a?(91===b.charCodeAt(c)?
(h="[",c+=1):(h=null,0===l&&k('"["')),null!==h?(f=p(),f=null!==f?f:"",null!==f?a=[a,h,f]:(a=null,c=v)):(a=null,c=v)):(a=null,c=v);n[d]={nextPos:c,result:a};return a}function J(){var d="right_bracket@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,v;v=c;a=p();a=null!==a?a:"";null!==a?(93===b.charCodeAt(c)?(h="]",c+=1):(h=null,0===l&&k('"]"')),null!==h?(f=p(),f=null!==f?f:"",null!==f?a=[a,h,f]:(a=null,c=v)):(a=null,c=v)):(a=null,c=v);n[d]={nextPos:c,result:a};return a}function fb(){var d="equals@"+
c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,v;v=c;a=p();a=null!==a?a:"";null!==a?(61===b.charCodeAt(c)?(h="=",c+=1):(h=null,0===l&&k('"="')),null!==h?(f=p(),f=null!==f?f:"",null!==f?a=[a,h,f]:(a=null,c=v)):(a=null,c=v)):(a=null,c=v);n[d]={nextPos:c,result:a};return a}function L(){var d="left_paren@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,v;v=c;a=p();a=null!==a?a:"";null!==a?(40===b.charCodeAt(c)?(h="(",c+=1):(h=null,0===l&&k('"("')),null!==h?(f=p(),f=null!==f?f:"",null!==f?a=[a,h,
f]:(a=null,c=v)):(a=null,c=v)):(a=null,c=v);n[d]={nextPos:c,result:a};return a}function H(){var d="right_paren@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,v;v=c;a=p();a=null!==a?a:"";null!==a?(41===b.charCodeAt(c)?(h=")",c+=1):(h=null,0===l&&k('")"')),null!==h?(f=p(),f=null!==f?f:"",null!==f?a=[a,h,f]:(a=null,c=v)):(a=null,c=v)):(a=null,c=v);n[d]={nextPos:c,result:a};return a}function ya(){var d="left_brace@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,v;v=c;a=p();a=null!==a?a:"";null!==
a?(123===b.charCodeAt(c)?(h="{",c+=1):(h=null,0===l&&k('"{"')),null!==h?(f=p(),f=null!==f?f:"",null!==f?a=[a,h,f]:(a=null,c=v)):(a=null,c=v)):(a=null,c=v);n[d]={nextPos:c,result:a};return a}function za(){var d="right_brace@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,v;v=c;a=p();a=null!==a?a:"";null!==a?(125===b.charCodeAt(c)?(h="}",c+=1):(h=null,0===l&&k('"}"')),null!==h?(f=p(),f=null!==f?f:"",null!==f?a=[a,h,f]:(a=null,c=v)):(a=null,c=v)):(a=null,c=v);n[d]={nextPos:c,result:a};return a}function M(){var b=
"external_statement_list@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,a=c;h=[];for(f=Aa();null!==f;)h.push(f),f=Aa();if(null!==h){f=new x({type:"root",statements:[]});for(var d=0;d<h.length;d++)h[d]&&(f.statements=f.statements.concat(h[d]));h=f}null===h&&(c=a);n[b]={nextPos:c,result:h};return h}function Aa(){var b="external_statement@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h;h=c;a=gb();null===a&&(a=hb());null===a&&(c=h);null===a&&(h=c,a=p(),null!==a&&(a=""),null===a&&(c=h));n[b]={nextPos:c,
result:a};return a}function hb(){var b="external_declaration@"+c,a=n[b];if(a)return c=a.nextPos,a.result;a=ib();null===a&&(a=jb(),null===a&&(a=Ba(),null===a&&(a=Ca(),null===a&&(a=kb(),null===a&&(a=ca())))));n[b]={nextPos:c,result:a};return a}function Ca(){var d="preprocessor_operator@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,v,e,g,y,A;y=g=c;35===b.charCodeAt(c)?(a="#",c+=1):(a=null,0===l&&k('"#"'));if(null!==a)if("undef"===b.substr(c,5)?(h="undef",c+=5):(h=null,0===l&&k('"undef"')),null===
h&&("pragma"===b.substr(c,6)?(h="pragma",c+=6):(h=null,0===l&&k('"pragma"')),null===h&&("version"===b.substr(c,7)?(h="version",c+=7):(h=null,0===l&&k('"version"')),null===h&&("error"===b.substr(c,5)?(h="error",c+=5):(h=null,0===l&&k('"error"')),null===h&&("extension"===b.substr(c,9)?(h="extension",c+=9):(h=null,0===l&&k('"extension"')),null===h&&("line"===b.substr(c,4)?(h="line",c+=4):(h=null,0===l&&k('"line"'))))))),null!==h)if(f=p(),null!==f){A=c;v=[];/^[^\n]/.test(b.charAt(c))?(e=b.charAt(c),c++):
(e=null,0===l&&k("[^\\n]"));for(;null!==e;)v.push(e),/^[^\n]/.test(b.charAt(c))?(e=b.charAt(c),c++):(e=null,0===l&&k("[^\\n]"));null!==v&&(v=v.join(""));null===v&&(c=A);null!==v?(e=m(),null===e&&(e=r()),null!==e?a=[a,h,f,v,e]:(a=null,c=y)):(a=null,c=y)}else a=null,c=y;else a=null,c=y;else a=null,c=y;null!==a&&(a=new x({type:"preprocessor",directive:"#"+a[1],value:a[3]}));null===a&&(c=g);n[d]={nextPos:c,result:a};return a}function N(){var d="macro_identifier@"+c,a=n[d];if(a)return c=a.nextPos,a.result;
var h,f,v,e;e=v=c;/^[A-Za-z_]/.test(b.charAt(c))?(a=b.charAt(c),c++):(a=null,0===l&&k("[A-Za-z_]"));if(null!==a){h=[];/^[A-Za-z_0-9]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,0===l&&k("[A-Za-z_0-9]"));for(;null!==f;)h.push(f),/^[A-Za-z_0-9]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,0===l&&k("[A-Za-z_0-9]"));null!==h?a=[a,h]:(a=null,c=e)}else a=null,c=e;null!==a&&(a=new x({type:"identifier",name:a[0]+a[1].join("")}));null===a&&(c=v);n[d]={nextPos:c,result:a};return a}function lb(){var d=
"preprocessor_parameter_list@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,v,e,g,y,m;y=g=c;40===b.charCodeAt(c)?(a="(",c+=1):(a=null,0===l&&k('"("'));if(null!==a)if(h=N(),h=null!==h?h:"",null!==h){f=[];m=c;v=u();null!==v?(e=N(),null!==e?v=[v,e]:(v=null,c=m)):(v=null,c=m);for(;null!==v;)f.push(v),m=c,v=u(),null!==v?(e=N(),null!==e?v=[v,e]:(v=null,c=m)):(v=null,c=m);null!==f?(v=H(),null!==v?a=[a,h,f,v]:(a=null,c=y)):(a=null,c=y)}else a=null,c=y;else a=null,c=y;null!==a&&(a=function(a,c){return a?
[a].concat(c.map(function(a){return a[1]})):[]}(a[1],a[2]));null===a&&(c=g);n[d]={nextPos:c,result:a};return a}function Da(){var d="macro_paren_parameter@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,v,e,g,y,m,q;y=g=c;a=L();if(null!==a){q=m=c;h=[];/^[^()]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,0===l&&k("[^()]"));for(;null!==f;)h.push(f),/^[^()]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,0===l&&k("[^()]"));if(null!==h)if(f=Da(),f=null!==f?f:"",null!==f){v=[];/^[^()]/.test(b.charAt(c))?
(e=b.charAt(c),c++):(e=null,0===l&&k("[^()]"));for(;null!==e;)v.push(e),/^[^()]/.test(b.charAt(c))?(e=b.charAt(c),c++):(e=null,0===l&&k("[^()]"));null!==v?h=[h,f,v]:(h=null,c=q)}else h=null,c=q;else h=null,c=q;null!==h&&(f=h[1],v=h[2],h=h[0].join("")+f+v.join(""));null===h&&(c=m);null!==h?(f=H(),null!==f?a=[a,h,f]:(a=null,c=y)):(a=null,c=y)}else a=null,c=y;null!==a&&(a="("+a[1]+")");null===a&&(c=g);n[d]={nextPos:c,result:a};return a}function da(){var d="macro_call_parameter@"+c,a=n[d];if(a)return c=
a.nextPos,a.result;var h,f,a=Da();if(null===a){f=c;a=[];/^[^,)]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[^,)]"));for(;null!==h;)a.push(h),/^[^,)]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[^,)]"));null!==a&&(a=a.join(""));null===a&&(c=f)}n[d]={nextPos:c,result:a};return a}function ca(){var d="macro_call@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,C,g,y;y=a=c;h=N();null!==h?(f=p(),f=null!==f?f:"",null!==f?(e=L(),null!==e?(C=Ea(),C=null!==C?C:"",null!==C?(41===
b.charCodeAt(c)?(g=")",c+=1):(g=null,0===l&&k('")"')),null!==g?h=[h,f,e,C,g]:(h=null,c=y)):(h=null,c=y)):(h=null,c=y)):(h=null,c=y)):(h=null,c=y);null!==h&&(f=h[3],h=new x({type:"macro_call",macro_name:h[0],parameters:f}),f||(h.parameters=[]));null===h&&(c=a);n[d]={nextPos:c,result:h};return h}function Ba(){var d="preprocessor_define@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,C,g,y,A,q,w,u,E;u=w=c;35===b.charCodeAt(c)?(a="#",c+=1):(a=null,0===l&&k('"#"'));if(null!==a)if(h=p(),h=null!==
h?h:"",null!==h)if("define"===b.substr(c,6)?(f="define",c+=6):(f=null,0===l&&k('"define"')),null!==f)if(e=p(),null!==e)if(C=N(),null!==C)if(g=lb(),g=null!==g?g:"",null!==g){y=[];/^[ \t]/.test(b.charAt(c))?(A=b.charAt(c),c++):(A=null,0===l&&k("[ \\t]"));for(;null!==A;)y.push(A),/^[ \t]/.test(b.charAt(c))?(A=b.charAt(c),c++):(A=null,0===l&&k("[ \\t]"));if(null!==y){E=c;A=[];/^[^\n]/.test(b.charAt(c))?(q=b.charAt(c),c++):(q=null,0===l&&k("[^\\n]"));for(;null!==q;)A.push(q),/^[^\n]/.test(b.charAt(c))?
(q=b.charAt(c),c++):(q=null,0===l&&k("[^\\n]"));null!==A&&(A=A.join(""));null===A&&(c=E);null!==A?(q=m(),null===q&&(q=r()),null!==q?a=[a,h,f,e,C,g,y,A,q]:(a=null,c=u)):(a=null,c=u)}else a=null,c=u}else a=null,c=u;else a=null,c=u;else a=null,c=u;else a=null,c=u;else a=null,c=u;else a=null,c=u;null!==a&&(a=new x({type:"preprocessor",directive:"#define",identifier:a[4].name,token_string:a[7],parameters:a[5]||null}));null===a&&(c=w);n[d]={nextPos:c,result:a};return a}function Fa(){var d="preprocessor_if@"+
c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,C,g,y,A,q;A=y=c;35===b.charCodeAt(c)?(a="#",c+=1):(a=null,0===l&&k('"#"'));if(null!==a)if(h=p(),h=null!==h?h:"",null!==h)if("ifdef"===b.substr(c,5)?(f="ifdef",c+=5):(f=null,0===l&&k('"ifdef"')),null===f&&("ifndef"===b.substr(c,6)?(f="ifndef",c+=6):(f=null,0===l&&k('"ifndef"')),null===f&&("if"===b.substr(c,2)?(f="if",c+=2):(f=null,0===l&&k('"if"')))),null!==f)if(e=p(),null!==e){q=c;C=[];/^[^\n]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,0===l&&
k("[^\\n]"));for(;null!==g;)C.push(g),/^[^\n]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,0===l&&k("[^\\n]"));null!==C&&(C=C.join(""));null===C&&(c=q);null!==C?(g=m(),null===g&&(g=r()),null!==g?a=[a,h,f,e,C,g]:(a=null,c=A)):(a=null,c=A)}else a=null,c=A;else a=null,c=A;else a=null,c=A;else a=null,c=A;null!==a&&(a=new x({type:"preprocessor",directive:"#"+a[2],value:a[4]}));null===a&&(c=y);n[d]={nextPos:c,result:a};return a}function R(){var d="preprocessor_else_if@"+c,a=n[d];if(a)return c=a.nextPos,
a.result;var h,f,e,g,t,y,A,q;A=y=c;35===b.charCodeAt(c)?(a="#",c+=1):(a=null,0===l&&k('"#"'));if(null!==a)if(h=p(),h=null!==h?h:"",null!==h)if("elif"===b.substr(c,4)?(f="elif",c+=4):(f=null,0===l&&k('"elif"')),null!==f)if(e=p(),null!==e){q=c;g=[];/^[^\n]/.test(b.charAt(c))?(t=b.charAt(c),c++):(t=null,0===l&&k("[^\\n]"));for(;null!==t;)g.push(t),/^[^\n]/.test(b.charAt(c))?(t=b.charAt(c),c++):(t=null,0===l&&k("[^\\n]"));null!==g&&(g=g.join(""));null===g&&(c=q);null!==g?(t=m(),null===t&&(t=r()),null!==
t?a=[a,h,f,e,g,t]:(a=null,c=A)):(a=null,c=A)}else a=null,c=A;else a=null,c=A;else a=null,c=A;else a=null,c=A;null!==a&&(a=new x({type:"preprocessor",directive:"#elif",value:a[4]}));null===a&&(c=y);n[d]={nextPos:c,result:a};return a}function Ga(){var d="preprocessor_else@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g,t,y;y=t=c;35===b.charCodeAt(c)?(a="#",c+=1):(a=null,0===l&&k('"#"'));null!==a?(h=p(),h=null!==h?h:"",null!==h?("else"===b.substr(c,4)?(f="else",c+=4):(f=null,0===l&&k('"else"')),
null!==f?(e=w(),e=null!==e?e:"",null!==e?(g=m(),null!==g?a=[a,h,f,e,g]:(a=null,c=y)):(a=null,c=y)):(a=null,c=y)):(a=null,c=y)):(a=null,c=y);null!==a&&(a=new x({type:"preprocessor",directive:"#else"}));null===a&&(c=t);n[d]={nextPos:c,result:a};return a}function Ha(){var d="preprocessor_end@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g,t,y;y=c;35===b.charCodeAt(c)?(a="#",c+=1):(a=null,0===l&&k('"#"'));null!==a?(h=p(),h=null!==h?h:"",null!==h?("endif"===b.substr(c,5)?(f="endif",c+=5):(f=null,
0===l&&k('"endif"')),null!==f?(e=w(),e=null!==e?e:"",null!==e?(g=m(),null===g&&(g=r()),null!==g?(t=p(),t=null!==t?t:"",null!==t?a=[a,h,f,e,g,t]:(a=null,c=y)):(a=null,c=y)):(a=null,c=y)):(a=null,c=y)):(a=null,c=y)):(a=null,c=y);n[d]={nextPos:c,result:a};return a}function gb(){var b="preprocessor_external_branch@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d,e,k,g;g=k=e=c;a=Fa();null!==a?(h=M(),null!==h?a=[a,h]:(a=null,c=g)):(a=null,c=g);if(null!==a){h=[];g=c;f=R();null!==f?(d=M(),null!==d?f=
[f,d]:(f=null,c=g)):(f=null,c=g);for(;null!==f;)h.push(f),g=c,f=R(),null!==f?(d=M(),null!==d?f=[f,d]:(f=null,c=g)):(f=null,c=g);null!==h?(g=c,f=Ga(),null!==f?(d=M(),null!==d?f=[f,d]:(f=null,c=g)):(f=null,c=g),f=null!==f?f:"",null!==f?(d=Ha(),null!==d?a=[a,h,f,d]:(a=null,c=k)):(a=null,c=k)):(a=null,c=k)}else a=null,c=k;null!==a&&(a=mb(a[0],a[1],a[2]));null===a&&(c=e);n[b]={nextPos:c,result:a};return a}function Ia(){var b="preprocessor_statement_branch@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,
f,d,e,k,g;g=k=e=c;a=Fa();null!==a?(h=O(),null!==h?a=[a,h]:(a=null,c=g)):(a=null,c=g);if(null!==a){h=[];g=c;f=R();null!==f?(d=O(),null!==d?f=[f,d]:(f=null,c=g)):(f=null,c=g);for(;null!==f;)h.push(f),g=c,f=R(),null!==f?(d=O(),null!==d?f=[f,d]:(f=null,c=g)):(f=null,c=g);null!==h?(g=c,f=Ga(),null!==f?(d=O(),null!==d?f=[f,d]:(f=null,c=g)):(f=null,c=g),f=null!==f?f:"",null!==f?(d=Ha(),null!==d?a=[a,h,f,d]:(a=null,c=k)):(a=null,c=k)):(a=null,c=k)}else a=null,c=k;null!==a&&(a=mb(a[0],a[1],a[2]));null===a&&
(c=e);n[b]={nextPos:c,result:a};return a}function ib(){var b="function_definition@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d;d=f=c;a=Ja();null!==a?(h=ea(),null!==h?a=[a,h]:(a=null,c=d)):(a=null,c=d);null!==a&&(h=a[0],a=D=new x({type:"function_declaration",name:h.name,returnType:h.returnType,parameters:h.parameters,body:a[1]}));null===a&&(c=f);n[b]={nextPos:c,result:a};return a}function ea(){var b="compound_statement@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d,e;e=a=c;h=ya();null!==
h?(f=O(),f=null!==f?f:"",null!==f?(d=za(),null!==d?h=[h,f,d]:(h=null,c=e)):(h=null,c=e)):(h=null,c=e);null!==h&&(h=h[1],D=new x({type:"scope",statements:[]}),h&&h.statements&&(D.statements=h.statements),h=D);null===h&&(c=a);n[b]={nextPos:c,result:h};return h}function O(){var b="statement_list@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d,e;e=d=c;a=p();a=null!==a?a:"";if(null!==a){h=[];for(f=S();null!==f;)h.push(f),f=S();null!==h?(f=p(),f=null!==f?f:"",null!==f?a=[a,h,f]:(a=null,c=e)):(a=null,
c=e)}else a=null,c=e;null!==a&&(a={statements:a[1]});null===a&&(c=d);n[b]={nextPos:c,result:a};return a}function S(){var b="statement_no_new_scope@"+c,a=n[b];if(a)return c=a.nextPos,a.result;a=ea();null===a&&(a=Ka(),null===a&&(a=Ia()));n[b]={nextPos:c,result:a};return a}function fa(){var b="statement_with_scope@"+c,a=n[b];if(a)return c=a.nextPos,a.result;a=ea();null===a&&(a=Ka(),null===a&&(a=Ia()));n[b]={nextPos:c,result:a};return a}function Ka(){var b="simple_statement@"+c,a=n[b];if(a)return c=a.nextPos,
a.result;var h;h=c;a=ga();null===a&&(a=La(),null===a&&(a=nb(),null===a&&(a=ob(),null===a&&(a=pb(),null===a&&(a=Ba(),null===a&&(a=Ca(),null===a&&(a=ca())))))));null===a&&(c=h);n[b]={nextPos:c,result:a};return a}function nb(){var d="selection_statement@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g,t,y,m,q,r,u;r=q=c;"if"===b.substr(c,2)?(a="if",c+=2):(a=null,0===l&&k('"if"'));null!==a?(h=L(),null!==h?(f=I(),null!==f?(e=H(),null!==e?(g=fa(),null!==g?(u=c,"else"===b.substr(c,4)?(t="else",c+=
4):(t=null,0===l&&k('"else"')),null!==t?(y=p(),y=null!==y?y:"",null!==y?(m=fa(),null!==m?t=[t,y,m]:(t=null,c=u)):(t=null,c=u)):(t=null,c=u),t=null!==t?t:"",null!==t?a=[a,h,f,e,g,t]:(a=null,c=r)):(a=null,c=r)):(a=null,c=r)):(a=null,c=r)):(a=null,c=r)):(a=null,c=r);null!==a&&(h=a[5],D=new x({type:"if_statement",condition:a[2],body:a[4]}),h&&(D.elseBody=h[2]),a=D);null===a&&(c=q);n[d]={nextPos:c,result:a};return a}function qb(){var d="for_loop@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g,
t,y,m,q,p;p=q=c;"for"===b.substr(c,3)?(a="for",c+=3):(a=null,0===l&&k('"for"'));null!==a?(h=L(),null!==h?(f=La(),null===f&&(f=ga()),null!==f?(e=Ma(),e=null!==e?e:"",null!==e?(g=B(),null!==g?(t=I(),t=null!==t?t:"",null!==t?(y=H(),null!==y?(m=S(),null!==m?a=[a,h,f,e,g,t,y,m]:(a=null,c=p)):(a=null,c=p)):(a=null,c=p)):(a=null,c=p)):(a=null,c=p)):(a=null,c=p)):(a=null,c=p)):(a=null,c=p);null!==a&&(a=new x({type:"for_statement",initializer:a[2],condition:a[3],increment:a[5],body:a[7]}));null===a&&(c=q);
n[d]={nextPos:c,result:a};return a}function Na(){var d="while_statement@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g,t;t=g=c;"while"===b.substr(c,5)?(a="while",c+=5):(a=null,0===l&&k('"while"'));null!==a?(h=L(),null!==h?(f=Ma(),null!==f?(e=H(),null!==e?a=[a,h,f,e]:(a=null,c=t)):(a=null,c=t)):(a=null,c=t)):(a=null,c=t);null!==a&&(a={condition:a[2]});null===a&&(c=g);n[d]={nextPos:c,result:a};return a}function rb(){var b="while_loop@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d;d=
f=c;a=Na();null!==a?(h=S(),null!==h?a=[a,h]:(a=null,c=d)):(a=null,c=d);null!==a&&(a=new x({type:"while_statement",condition:a[0].condition,body:a[1]}));null===a&&(c=f);n[b]={nextPos:c,result:a};return a}function sb(){var d="do_while@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g;g=e=c;"do"===b.substr(c,2)?(a="do",c+=2):(a=null,0===l&&k('"do"'));null!==a?(h=fa(),null!==h?(f=Na(),null!==f?a=[a,h,f]:(a=null,c=g)):(a=null,c=g)):(a=null,c=g);null!==a&&(a=new x({type:"do_statement",condition:a[2].condition,
body:a[1]}));null===a&&(c=e);n[d]={nextPos:c,result:a};return a}function ob(){var b="iteration_statement@"+c,a=n[b];if(a)return c=a.nextPos,a.result;a=rb();null===a&&(a=sb(),null===a&&(a=qb()));n[b]={nextPos:c,result:a};return a}function pb(){var d="jump_statement@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g,t;t=g=c;"return"===b.substr(c,6)?(a="return",c+=6):(a=null,0===l&&k('"return"'));null!==a?(h=p(),h=null!==h?h:"",null!==h?(f=I(),null!==f?(e=B(),null!==e?a=[a,h,f,e]:(a=null,c=t)):
(a=null,c=t)):(a=null,c=t)):(a=null,c=t);null!==a&&(a=new x({type:"return",value:a[2]}));null===a&&(c=g);null===a&&(t=g=c,"continue"===b.substr(c,8)?(a="continue",c+=8):(a=null,0===l&&k('"continue"')),null!==a?(h=B(),null!==h?a=[a,h]:(a=null,c=t)):(a=null,c=t),null===a&&(t=c,"break"===b.substr(c,5)?(a="break",c+=5):(a=null,0===l&&k('"break"')),null!==a?(h=B(),null!==h?a=[a,h]:(a=null,c=t)):(a=null,c=t),null===a&&(t=c,"return"===b.substr(c,6)?(a="return",c+=6):(a=null,0===l&&k('"return"')),null!==
a?(h=B(),null!==h?a=[a,h]:(a=null,c=t)):(a=null,c=t),null===a&&(e=f=t=c,a="fs"==T?"":null,null!==a?("discard"===b.substr(c,7)?(h="discard",c+=7):(h=null,0===l&&k('"discard"')),null!==h?a=[a,h]:(a=null,c=e)):(a=null,c=e),null!==a&&(a="discard"),null===a&&(c=f),null!==a?(h=B(),null!==h?a=[a,h]:(a=null,c=t)):(a=null,c=t)))),null!==a&&(a=new x({type:a[0]})),null===a&&(c=g));n[d]={nextPos:c,result:a};return a}function La(){var b="expression_statement@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,
d;d=f=c;a=I();a=null!==a?a:"";null!==a?(h=B(),null!==h?a=[a,h]:(a=null,c=d)):(a=null,c=d);null!==a&&(a=new x({type:"expression",expression:a[0]}));null===a&&(c=f);n[b]={nextPos:c,result:a};return a}function ga(){var d="declaration@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g,t,m,A,q,r;l++;q=A=c;a=Ja();null!==a?(h=B(),null!==h?a=[a,h]:(a=null,c=q)):(a=null,c=q);null!==a&&(a=a[0]);null===a&&(c=A);if(null===a&&(q=A=c,a=U(),null!==a?(h=p(),null!==h?(f=Oa(),null!==f?(e=B(),null!==e?a=[a,h,f,
e]:(a=null,c=q)):(a=null,c=q)):(a=null,c=q)):(a=null,c=q),null!==a&&(a=new x({type:"declarator",typeAttribute:a[0],declarators:a[2]})),null===a&&(c=A),null===a)){q=A=c;a="vs"==T?"":null;if(null!==a)if("invariant"===b.substr(c,9)?(h="invariant",c+=9):(h=null,0===l&&k('"invariant"')),null!==h)if(f=p(),null!==f)if(e=G(),null!==e){g=[];r=c;t=u();null!==t?(m=G(),null!==m?t=[t,m]:(t=null,c=r)):(t=null,c=r);for(;null!==t;)g.push(t),r=c,t=u(),null!==t?(m=G(),null!==m?t=[t,m]:(t=null,c=r)):(t=null,c=r);null!==
g?(t=B(),null!==t?a=[a,h,f,e,g,t]:(a=null,c=q)):(a=null,c=q)}else a=null,c=q;else a=null,c=q;else a=null,c=q;else a=null,c=q;null!==a&&(a=function(a,c){var b=[a].concat(c.map(function(a){return a[1]}));return new x({type:"invariant",identifiers:b})}(a[3],a[4]));null===a&&(c=A);null===a&&(q=A=c,"precision"===b.substr(c,9)?(a="precision",c+=9):(a=null,0===l&&k('"precision"')),null!==a?(h=p(),null!==h?(f=ha(),null!==f?(e=p(),null!==e?(g=V(),null!==g?(t=B(),null!==t?a=[a,h,f,e,g,t]:(a=null,c=q)):(a=null,
c=q)):(a=null,c=q)):(a=null,c=q)):(a=null,c=q)):(a=null,c=q),null!==a&&(a=new x({type:"precision",precision:a[2],typeName:a[4]})),null===a&&(c=A))}l--;0===l&&null===a&&k("declaration");n[d]={nextPos:c,result:a};return a}function jb(){var b="global_declaration@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d,e,k,a=ga();null===a&&(k=e=c,a=tb(),null!==a?(h=p(),null!==h?(f=Oa(),null!==f?(d=B(),null!==d?a=[a,h,f,d]:(a=null,c=k)):(a=null,c=k)):(a=null,c=k)):(a=null,c=k),null!==a&&(a=new x({type:"declarator",
typeAttribute:a[0],declarators:a[2]})),null===a&&(c=e),null===a&&(k=e=c,a=ub(),null!==a?(h=p(),null!==h?(f=vb(),null!==f?(d=B(),null!==d?a=[a,h,f,d]:(a=null,c=k)):(a=null,c=k)):(a=null,c=k)):(a=null,c=k),null!==a&&(a=new x({type:"declarator",typeAttribute:a[0],declarators:a[2]})),null===a&&(c=e)));n[b]={nextPos:c,result:a};return a}function wb(){var d="function_prototype_parameter_list@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g,t,m;"void"===b.substr(c,4)?(a="void",c+=4):(a=null,0===l&&
k('"void"'));if(null===a){t=g=c;a=ia();if(null!==a){h=[];m=c;f=u();null!==f?(e=ia(),null!==e?f=[f,e]:(f=null,c=m)):(f=null,c=m);for(;null!==f;)h.push(f),m=c,f=u(),null!==f?(e=ia(),null!==e?f=[f,e]:(f=null,c=m)):(f=null,c=m);null!==h?a=[a,h]:(a=null,c=t)}else a=null,c=t;null!==a&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],a[1]));null===a&&(c=g)}n[d]={nextPos:c,result:a};return a}function Ja(){var b="function_prototype@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,
f,d,e,k,g,l;l=g=c;a=xb();null===a&&(a=W());null!==a?(h=p(),null!==h?(f=G(),null!==f?(d=L(),null!==d?(e=wb(),e=null!==e?e:"",null!==e?(k=H(),null!==k?a=[a,h,f,d,e,k]:(a=null,c=l)):(a=null,c=l)):(a=null,c=l)):(a=null,c=l)):(a=null,c=l)):(a=null,c=l);null!==a&&(h=a[4],D=new x({type:"function_prototype",name:a[2].name,returnType:a[0],parameters:h}),"void"!=h&&h||(D.parameters=[]),a=D);null===a&&(c=g);n[b]={nextPos:c,result:a};return a}function yb(){var d="parameter_qualifier@"+c,a=n[d];if(a)return c=
a.nextPos,a.result;"inout"===b.substr(c,5)?(a="inout",c+=5):(a=null,0===l&&k('"inout"'));null===a&&("in"===b.substr(c,2)?(a="in",c+=2):(a=null,0===l&&k('"in"')),null===a&&("out"===b.substr(c,3)?(a="out",c+=3):(a=null,0===l&&k('"out"'))));n[d]={nextPos:c,result:a};return a}function ia(){var b="parameter_declaration@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d,e,k,g,l,m,r,u,w;w=u=a=c;h=ja();null!==h?(f=p(),null!==f?h=[h,f]:(h=null,c=w)):(h=null,c=w);h=null!==h?h:"";null!==h?(w=c,f=yb(),null!==
f?(d=p(),null!==d?f=[f,d]:(f=null,c=w)):(f=null,c=w),f=null!==f?f:"",null!==f?(w=c,d=ha(),null!==d?(e=p(),null!==e?d=[d,e]:(d=null,c=w)):(d=null,c=w),d=null!==d?d:"",null!==d?(e=V(),null!==e?(k=p(),null!==k?(g=G(),null!==g?(w=c,l=F(),null!==l?(m=P(),null!==m?(r=J(),null!==r?l=[l,m,r]:(l=null,c=w)):(l=null,c=w)):(l=null,c=w),l=null!==l?l:"",null!==l?h=[h,f,d,e,k,g,l]:(h=null,c=u)):(h=null,c=u)):(h=null,c=u)):(h=null,c=u)):(h=null,c=u)):(h=null,c=u)):(h=null,c=u);null!==h&&(f=h[0],d=h[1],e=h[2],k=h[6],
h=new x({type:"parameter",type_name:h[3],name:h[5].name}),f&&(h.typeQualifier=f[0]),d&&(h.parameterQualifier=d[0]),e&&(h.precision=e[0]),k&&(h.arraySize=k[1]),h=h.typeQualifier&&h.parameterQualifier&&"in"!=h.parameterQualifier?null:h);null===h&&(c=a);n[b]={nextPos:c,result:h};return h}function Oa(){var b="init_declarator_list@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d,e,k,g;k=e=c;a=ka();if(null!==a){h=[];g=c;f=u();null!==f?(d=ka(),null!==d?f=[f,d]:(f=null,c=g)):(f=null,c=g);for(;null!==
f;)h.push(f),g=c,f=u(),null!==f?(d=ka(),null!==d?f=[f,d]:(f=null,c=g)):(f=null,c=g);null!==h?a=[a,h]:(a=null,c=k)}else a=null,c=k;null!==a&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],a[1]));null===a&&(c=e);n[b]={nextPos:c,result:a};return a}function zb(){var b="declarator_list@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d,e,k,g;k=e=c;a=X();if(null!==a){h=[];g=c;f=u();null!==f?(d=X(),null!==d?f=[f,d]:(f=null,c=g)):(f=null,c=g);for(;null!==f;)h.push(f),g=c,f=u(),
null!==f?(d=X(),null!==d?f=[f,d]:(f=null,c=g)):(f=null,c=g);null!==h?a=[a,h]:(a=null,c=k)}else a=null,c=k;null!==a&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],a[1]));null===a&&(c=e);n[b]={nextPos:c,result:a};return a}function vb(){var b="declarator_list_no_array@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d,e,k,g;k=e=c;a=Y();if(null!==a){h=[];g=c;f=u();null!==f?(d=Y(),null!==d?f=[f,d]:(f=null,c=g)):(f=null,c=g);for(;null!==f;)h.push(f),g=c,f=u(),null!==f?(d=Y(),
null!==d?f=[f,d]:(f=null,c=g)):(f=null,c=g);null!==h?a=[a,h]:(a=null,c=k)}else a=null,c=k;null!==a&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],a[1]));null===a&&(c=e);n[b]={nextPos:c,result:a};return a}function Pa(){var b="declarator_list_arrays_have_size@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d,e,k,g;k=e=c;a=Z();if(null!==a){h=[];g=c;f=u();null!==f?(d=Z(),null!==d?f=[f,d]:(f=null,c=g)):(f=null,c=g);for(;null!==f;)h.push(f),g=c,f=u(),null!==f?(d=Z(),null!==
d?f=[f,d]:(f=null,c=g)):(f=null,c=g);null!==h?a=[a,h]:(a=null,c=k)}else a=null,c=k;null!==a&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],a[1]));null===a&&(c=e);n[b]={nextPos:c,result:a};return a}function Y(){var b="declarator_no_array@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h;h=c;a=G();null!==a&&(a=new x({type:"declarator_item",name:a}));null===a&&(c=h);n[b]={nextPos:c,result:a};return a}function Z(){var b="declarator_array_with_size@"+c,a=n[b];if(a)return c=a.nextPos,
a.result;var h,f,d,e,k;k=e=c;a=G();null!==a?(h=F(),null!==h?(f=P(),null!==f?(d=J(),null!==d?a=[a,h,f,d]:(a=null,c=k)):(a=null,c=k)):(a=null,c=k)):(a=null,c=k);null!==a&&(a=new x({type:"declarator_item",name:a[0],arraySize:a[2],isArray:!0}));null===a&&(c=e);null===a&&(a=Y());n[b]={nextPos:c,result:a};return a}function X(){var b="declarator@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d,e;e=d=c;a=G();null!==a?(h=F(),null!==h?(f=J(),null!==f?a=[a,h,f]:(a=null,c=e)):(a=null,c=e)):(a=null,c=e);
null!==a&&(a=new x({type:"declarator_item",name:a[0],isArray:!0}));null===a&&(c=d);null===a&&(a=Z());n[b]={nextPos:c,result:a};return a}function ka(){var b="init_declarator@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d,e;e=d=c;a=G();null!==a?(h=fb(),null!==h?(f=P(),null!==f?a=[a,h,f]:(a=null,c=e)):(a=null,c=e)):(a=null,c=e);null!==a&&(a=new x({type:"declarator_item",name:a[0],initializer:a[2]}));null===a&&(c=d);null===a&&(a=X());n[b]={nextPos:c,result:a};return a}function Ab(){var b="member_list@"+
c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d,e,k,g;g=k=c;h=U();null!==h?(f=p(),null!==f?(d=Pa(),null!==d?(e=B(),null!==e?h=[h,f,d,e]:(h=null,c=g)):(h=null,c=g)):(h=null,c=g)):(h=null,c=g);if(null!==h)for(a=[];null!==h;)a.push(h),g=c,h=U(),null!==h?(f=p(),null!==f?(d=Pa(),null!==d?(e=B(),null!==e?h=[h,f,d,e]:(h=null,c=g)):(h=null,c=g)):(h=null,c=g)):(h=null,c=g);else a=null;null!==a&&(a=function(a){return a.map(function(a){return new x({type:"declarator",typeAttribute:a[0],declarators:a[2]})})}(a));
null===a&&(c=k);n[b]={nextPos:c,result:a};return a}function kb(){var d="struct_definition@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g,t,m,r,q,u;t=u=a=c;h=Qa();null===h&&(h=Ra());null!==h?(f=p(),null!==f?h=[h,f]:(h=null,c=t)):(h=null,c=t);h=null!==h?h:"";null!==h?("struct"===b.substr(c,6)?(f="struct",c+=6):(f=null,0===l&&k('"struct"')),null!==f?(t=c,e=p(),null!==e?(g=G(),null!==g?e=[e,g]:(e=null,c=t)):(e=null,c=t),e=null!==e?e:"",null!==e?(g=ya(),null!==g?(t=Ab(),null!==t?(m=za(),null!==
m?(r=zb(),r=null!==r?r:"",null!==r?(q=B(),null!==q?h=[h,f,e,g,t,m,r,q]:(h=null,c=u)):(h=null,c=u)):(h=null,c=u)):(h=null,c=u)):(h=null,c=u)):(h=null,c=u)):(h=null,c=u)):(h=null,c=u);null!==h&&(f=h[0],e=h[2],g=h[6],h=new x({type:"struct_definition",members:h[4]}),f&&(h.qualifier=f[0]),e&&(h.name=e[1].name,Bb[h.name]=h),g&&(h.declarators=g));null===h&&(c=a);n[d]={nextPos:c,result:h};return h}function W(){var b="precision_type@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d,e;e=d=a=c;h=ha();null!==
h?(f=p(),null!==f?h=[h,f]:(h=null,c=e)):(h=null,c=e);h=null!==h?h:"";null!==h?(f=V(),null!==f?h=[h,f]:(h=null,c=d)):(h=null,c=d);null!==h&&(f=h[0],h=new x({type:"type",name:h[1]}),f&&(h.precision=f[0]));null===h&&(c=a);n[b]={nextPos:c,result:h};return h}function U(){var b="locally_specified_type@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d,e;l++;e=d=a=c;h=ja();null!==h?(f=p(),null!==f?h=[h,f]:(h=null,c=e)):(h=null,c=e);h=null!==h?h:"";null!==h?(f=W(),null!==f?h=[h,f]:(h=null,c=d)):(h=null,
c=d);null!==h&&(f=h[0],h=h[1],f&&(h.qualifier=f[0]));null===h&&(c=a);l--;0===l&&null===h&&k("locally specified type");n[b]={nextPos:c,result:h};return h}function Ra(){var d="attribute_qualifier@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e;e=f=c;a="vs"==T?"":null;null!==a?("attribute"===b.substr(c,9)?(h="attribute",c+=9):(h=null,0===l&&k('"attribute"')),null!==h?a=[a,h]:(a=null,c=e)):(a=null,c=e);null!==a&&(a="attribute");null===a&&(c=f);n[d]={nextPos:c,result:a};return a}function ub(){var b=
"attribute_type@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d,e;l++;e=d=c;a=Ra();null!==a?(h=p(),null!==h?(f=W(),null!==f?a=[a,h,f]:(a=null,c=e)):(a=null,c=e)):(a=null,c=e);null!==a&&(h=a[2],h.qualifier=a[0],a=h);null===a&&(c=d);l--;0===l&&null===a&&k("locally specified type");n[b]={nextPos:c,result:a};return a}function tb(){var b="fully_specified_type@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var h,f,d,e;l++;e=d=a=c;h=Qa();null!==h?(f=p(),null!==f?h=[h,f]:(h=null,c=e)):(h=null,c=e);h=null!==
h?h:"";null!==h?(f=W(),null!==f?h=[h,f]:(h=null,c=d)):(h=null,c=d);null!==h&&(f=h[0],h=h[1],f&&(h.qualifier=f[0]));null===h&&(c=a);l--;0===l&&null===h&&k("fully specified type");n[b]={nextPos:c,result:h};return h}function ha(){var d="precision_qualifier@"+c,a=n[d];if(a)return c=a.nextPos,a.result;l++;"highp"===b.substr(c,5)?(a="highp",c+=5):(a=null,0===l&&k('"highp"'));null===a&&("mediump"===b.substr(c,7)?(a="mediump",c+=7):(a=null,0===l&&k('"mediump"')),null===a&&("lowp"===b.substr(c,4)?(a="lowp",
c+=4):(a=null,0===l&&k('"lowp"'))));l--;0===l&&null===a&&k("precision qualifier");n[d]={nextPos:c,result:a};return a}function ja(){var d="const_qualifier@"+c,a=n[d];if(a)return c=a.nextPos,a.result;"const"===b.substr(c,5)?(a="const",c+=5):(a=null,0===l&&k('"const"'));n[d]={nextPos:c,result:a};return a}function Qa(){var d="type_qualifier@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g;l++;a=ja();null===a&&("varying"===b.substr(c,7)?(a="varying",c+=7):(a=null,0===l&&k('"varying"')),null===a&&
(g=e=c,"invariant"===b.substr(c,9)?(a="invariant",c+=9):(a=null,0===l&&k('"invariant"')),null!==a?(h=p(),null!==h?("varying"===b.substr(c,7)?(f="varying",c+=7):(f=null,0===l&&k('"varying"')),null!==f?a=[a,h,f]:(a=null,c=g)):(a=null,c=g)):(a=null,c=g),null!==a&&(a="invariant varying"),null===a&&(c=e),null===a&&("uniform"===b.substr(c,7)?(a="uniform",c+=7):(a=null,0===l&&k('"uniform"')))));l--;0===l&&null===a&&k("type qualifier");n[d]={nextPos:c,result:a};return a}function xb(){var d="void_type@"+c,
a=n[d];if(a)return c=a.nextPos,a.result;var h;l++;h=c;"void"===b.substr(c,4)?(a="void",c+=4):(a=null,0===l&&k('"void"'));null!==a&&(a=new x({type:"type",name:"void"}));null===a&&(c=h);l--;0===l&&null===a&&k("void");n[d]={nextPos:c,result:a};return a}function V(){var d="type_name@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h;l++;"float"===b.substr(c,5)?(a="float",c+=5):(a=null,0===l&&k('"float"'));null===a&&("int"===b.substr(c,3)?(a="int",c+=3):(a=null,0===l&&k('"int"')),null===a&&("bool"===b.substr(c,
4)?(a="bool",c+=4):(a=null,0===l&&k('"bool"')),null===a&&("sampler2D"===b.substr(c,9)?(a="sampler2D",c+=9):(a=null,0===l&&k('"sampler2D"')),null===a&&("samplerCube"===b.substr(c,11)?(a="samplerCube",c+=11):(a=null,0===l&&k('"samplerCube"')),null===a&&(a=Sa(),null===a&&(a=Ta(),null===a&&(h=c,a=G(),null!==a&&(a=a.name in Bb?a.name:null),null===a&&(c=h))))))));l--;0===l&&null===a&&k("type name");n[d]={nextPos:c,result:a};return a}function G(){var d="identifier@"+c,a=n[d];if(a)return c=a.nextPos,a.result;
var h,f,e,g,t;l++;f=t=g=c;l++;e=c;a=Cb();null!==a?(/^[^A-Za-z_0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[^A-Za-z_0-9]")),null!==h?a=[a,h]:(a=null,c=e)):(a=null,c=e);l--;null===a?a="":(a=null,c=f);if(null!==a)if(/^[A-Za-z_]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[A-Za-z_]")),null!==h){f=[];/^[A-Za-z_0-9]/.test(b.charAt(c))?(e=b.charAt(c),c++):(e=null,0===l&&k("[A-Za-z_0-9]"));for(;null!==e;)f.push(e),/^[A-Za-z_0-9]/.test(b.charAt(c))?(e=b.charAt(c),c++):(e=null,
0===l&&k("[A-Za-z_0-9]"));null!==f?a=[a,h,f]:(a=null,c=t)}else a=null,c=t;else a=null,c=t;null!==a&&(a=new x({type:"identifier",name:a[1]+a[2].join("")}));null===a&&(c=g);l--;0===l&&null===a&&k("identifier");n[d]={nextPos:c,result:a};return a}function Cb(){var d="keyword@"+c,a=n[d];if(a)return c=a.nextPos,a.result;l++;"attribute"===b.substr(c,9)?(a="attribute",c+=9):(a=null,0===l&&k('"attribute"'));null===a&&("const"===b.substr(c,5)?(a="const",c+=5):(a=null,0===l&&k('"const"')),null===a&&("bool"===
b.substr(c,4)?(a="bool",c+=4):(a=null,0===l&&k('"bool"')),null===a&&("float"===b.substr(c,5)?(a="float",c+=5):(a=null,0===l&&k('"float"')),null===a&&("int"===b.substr(c,3)?(a="int",c+=3):(a=null,0===l&&k('"int"')),null===a&&("break"===b.substr(c,5)?(a="break",c+=5):(a=null,0===l&&k('"break"')),null===a&&("continue"===b.substr(c,8)?(a="continue",c+=8):(a=null,0===l&&k('"continue"')),null===a&&("do"===b.substr(c,2)?(a="do",c+=2):(a=null,0===l&&k('"do"')),null===a&&("else"===b.substr(c,4)?(a="else",
c+=4):(a=null,0===l&&k('"else"')),null===a&&("for"===b.substr(c,3)?(a="for",c+=3):(a=null,0===l&&k('"for"')),null===a&&("if"===b.substr(c,2)?(a="if",c+=2):(a=null,0===l&&k('"if"')),null===a&&("discard"===b.substr(c,7)?(a="discard",c+=7):(a=null,0===l&&k('"discard"')),null===a&&("return"===b.substr(c,6)?(a="return",c+=6):(a=null,0===l&&k('"return"')),null===a&&(a=Sa(),null===a&&(a=Ta(),null===a&&("in"===b.substr(c,2)?(a="in",c+=2):(a=null,0===l&&k('"in"')),null===a&&("out"===b.substr(c,3)?(a="out",
c+=3):(a=null,0===l&&k('"out"')),null===a&&("inout"===b.substr(c,5)?(a="inout",c+=5):(a=null,0===l&&k('"inout"')),null===a&&("uniform"===b.substr(c,7)?(a="uniform",c+=7):(a=null,0===l&&k('"uniform"')),null===a&&("varying"===b.substr(c,7)?(a="varying",c+=7):(a=null,0===l&&k('"varying"')),null===a&&("sampler2D"===b.substr(c,9)?(a="sampler2D",c+=9):(a=null,0===l&&k('"sampler2D"')),null===a&&("samplerCube"===b.substr(c,11)?(a="samplerCube",c+=11):(a=null,0===l&&k('"samplerCube"')),null===a&&("struct"===
b.substr(c,6)?(a="struct",c+=6):(a=null,0===l&&k('"struct"')),null===a&&("void"===b.substr(c,4)?(a="void",c+=4):(a=null,0===l&&k('"void"')),null===a&&("while"===b.substr(c,5)?(a="while",c+=5):(a=null,0===l&&k('"while"')),null===a&&("highp"===b.substr(c,5)?(a="highp",c+=5):(a=null,0===l&&k('"highp"')),null===a&&("mediump"===b.substr(c,7)?(a="mediump",c+=7):(a=null,0===l&&k('"mediump"')),null===a&&("lowp"===b.substr(c,4)?(a="lowp",c+=4):(a=null,0===l&&k('"lowp"')),null===a&&("true"===b.substr(c,4)?
(a="true",c+=4):(a=null,0===l&&k('"true"')),null===a&&("false"===b.substr(c,5)?(a="false",c+=5):(a=null,0===l&&k('"false"')))))))))))))))))))))))))))))));l--;0===l&&null===a&&k("keyword");n[d]={nextPos:c,result:a};return a}function Sa(){var d="vector@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g;g=e=c;/^[bi]/.test(b.charAt(c))?(a=b.charAt(c),c++):(a=null,0===l&&k("[bi]"));a=null!==a?a:"";null!==a?("vec"===b.substr(c,3)?(h="vec",c+=3):(h=null,0===l&&k('"vec"')),null!==h?(/^[234]/.test(b.charAt(c))?
(f=b.charAt(c),c++):(f=null,0===l&&k("[234]")),null!==f?a=[a,h,f]:(a=null,c=g)):(a=null,c=g)):(a=null,c=g);null!==a&&(a=a.join(""));null===a&&(c=e);n[d]={nextPos:c,result:a};return a}function Ta(){var d="matrix@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e;e=f=c;"mat"===b.substr(c,3)?(a="mat",c+=3):(a=null,0===l&&k('"mat"'));null!==a?(/^[234]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[234]")),null!==h?a=[a,h]:(a=null,c=e)):(a=null,c=e);null!==a&&(a=a.join(""));null===a&&(c=
f);n[d]={nextPos:c,result:a};return a}function Ua(){var d="single_underscore_identifier@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g;g=c;a=[];/^[A-Za-z0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[A-Za-z0-9]"));for(;null!==h;)a.push(h),/^[A-Za-z0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[A-Za-z0-9]"));if(null!==a)if(95===b.charCodeAt(c)?(h="_",c+=1):(h=null,0===l&&k('"_"')),null!==h){/^[A-Za-z0-9]/.test(b.charAt(c))?(e=b.charAt(c),c++):(e=null,0===l&&
k("[A-Za-z0-9]"));if(null!==e)for(f=[];null!==e;)f.push(e),/^[A-Za-z0-9]/.test(b.charAt(c))?(e=b.charAt(c),c++):(e=null,0===l&&k("[A-Za-z0-9]"));else f=null;null!==f?a=[a,h,f]:(a=null,c=g)}else a=null,c=g;else a=null,c=g;n[d]={nextPos:c,result:a};return a}function Db(){var d="int_constant@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g,t;t=g=c;/^[1-9]/.test(b.charAt(c))?(a=b.charAt(c),c++):(a=null,0===l&&k("[1-9]"));if(null!==a){h=[];/^[0-9]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,
0===l&&k("[0-9]"));for(;null!==f;)h.push(f),/^[0-9]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,0===l&&k("[0-9]"));null!==h?a=[a,h]:(a=null,c=t)}else a=null,c=t;null!==a&&(a=new x({type:"int",value:parseInt([a[0]].concat(a[1]).join(""),10)}));null===a&&(c=g);if(null===a){t=g=c;48===b.charCodeAt(c)?(a="0",c+=1):(a=null,0===l&&k('"0"'));if(null!==a)if(/^[Xx]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[Xx]")),null!==h){/^[0-9A-Fa-f]/.test(b.charAt(c))?(e=b.charAt(c),c++):(e=null,0===
l&&k("[0-9A-Fa-f]"));if(null!==e)for(f=[];null!==e;)f.push(e),/^[0-9A-Fa-f]/.test(b.charAt(c))?(e=b.charAt(c),c++):(e=null,0===l&&k("[0-9A-Fa-f]"));else f=null;null!==f?a=[a,h,f]:(a=null,c=t)}else a=null,c=t;else a=null,c=t;null!==a&&(a=new x({type:"int",value:parseInt(a[2].join(""),16)}));null===a&&(c=g);if(null===a){t=g=c;48===b.charCodeAt(c)?(a="0",c+=1):(a=null,0===l&&k('"0"'));if(null!==a){/^[0-7]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,0===l&&k("[0-7]"));if(null!==f)for(h=[];null!==f;)h.push(f),
/^[0-7]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,0===l&&k("[0-7]"));else h=null;null!==h?a=[a,h]:(a=null,c=t)}else a=null,c=t;null!==a&&(a=new x({type:"int",value:parseInt(a[1].join(""),8)}));null===a&&(c=g);null===a&&(g=c,48===b.charCodeAt(c)?(a="0",c+=1):(a=null,0===l&&k('"0"')),null!==a&&(a=new x({type:"int",value:0})),null===a&&(c=g))}}n[d]={nextPos:c,result:a};return a}function Eb(){var d="float_constant@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g,t;t=g=c;a=[];/^[0-9]/.test(b.charAt(c))?
(h=b.charAt(c),c++):(h=null,0===l&&k("[0-9]"));for(;null!==h;)a.push(h),/^[0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[0-9]"));if(null!==a)if(46===b.charCodeAt(c)?(h=".",c+=1):(h=null,0===l&&k('"."')),null!==h){/^[0-9]/.test(b.charAt(c))?(e=b.charAt(c),c++):(e=null,0===l&&k("[0-9]"));if(null!==e)for(f=[];null!==e;)f.push(e),/^[0-9]/.test(b.charAt(c))?(e=b.charAt(c),c++):(e=null,0===l&&k("[0-9]"));else f=null;null!==f?(e=la(),e=null!==e?e:"",null!==e?a=[a,h,f,e]:(a=null,c=t)):(a=
null,c=t)}else a=null,c=t;else a=null,c=t;if(null===a){t=c;/^[0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[0-9]"));if(null!==h)for(a=[];null!==h;)a.push(h),/^[0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[0-9]"));else a=null;if(null!==a)if(46===b.charCodeAt(c)?(h=".",c+=1):(h=null,0===l&&k('"."')),null!==h){f=[];/^[0-9]/.test(b.charAt(c))?(e=b.charAt(c),c++):(e=null,0===l&&k("[0-9]"));for(;null!==e;)f.push(e),/^[0-9]/.test(b.charAt(c))?(e=b.charAt(c),c++):(e=null,
0===l&&k("[0-9]"));null!==f?(e=la(),e=null!==e?e:"",null!==e?a=[a,h,f,e]:(a=null,c=t)):(a=null,c=t)}else a=null,c=t;else a=null,c=t}null!==a&&(a=function(a){a[0]=a[0].join("");a[2]=a[2].join("");return new x({type:"float",value:parseFloat(a.join(""))})}(a));null===a&&(c=g);if(null===a){t=g=c;/^[0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[0-9]"));if(null!==h)for(a=[];null!==h;)a.push(h),/^[0-9]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[0-9]"));else a=null;null!==
a?(h=la(),null!==h?a=[a,h]:(a=null,c=t)):(a=null,c=t);null!==a&&(a=function(a){return new x({type:"float",value:parseFloat(a[0].join("")+a[1])})}(a));null===a&&(c=g)}n[d]={nextPos:c,result:a};return a}function la(){var d="float_exponent@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g,t;t=g=c;/^[Ee]/.test(b.charAt(c))?(a=b.charAt(c),c++):(a=null,0===l&&k("[Ee]"));if(null!==a)if(/^[+\-]/.test(b.charAt(c))?(h=b.charAt(c),c++):(h=null,0===l&&k("[+\\-]")),h=null!==h?h:"",null!==h){/^[0-9]/.test(b.charAt(c))?
(e=b.charAt(c),c++):(e=null,0===l&&k("[0-9]"));if(null!==e)for(f=[];null!==e;)f.push(e),/^[0-9]/.test(b.charAt(c))?(e=b.charAt(c),c++):(e=null,0===l&&k("[0-9]"));else f=null;null!==f?a=[a,h,f]:(a=null,c=t)}else a=null,c=t;else a=null,c=t;null!==a&&(a=["e",a[1]].concat(a[2]).join(""));null===a&&(c=g);n[d]={nextPos:c,result:a};return a}function Fb(){var b="paren_expression@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var d,f,e,g;g=e=c;a=L();null!==a?(d=I(),null!==d?(f=H(),null!==f?a=[a,d,f]:(a=null,
c=g)):(a=null,c=g)):(a=null,c=g);null!==a&&(a=a[1]);null===a&&(c=e);n[b]={nextPos:c,result:a};return a}function Gb(){var d="bool_constant@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h;h=c;"true"===b.substr(c,4)?(a="true",c+=4):(a=null,0===l&&k('"true"'));null===a&&("false"===b.substr(c,5)?(a="false",c+=5):(a=null,0===l&&k('"false"')));null!==a&&(a=new x({type:"bool",value:"true"==a}));null===a&&(c=h);n[d]={nextPos:c,result:a};return a}function Hb(){var b="primary_expression@"+c,a=n[b];if(a)return c=
a.nextPos,a.result;a=Ib();null===a&&(a=G(),null===a&&(a=Eb(),null===a&&(a=Db(),null===a&&(a=Gb(),null===a&&(a=Fb())))));n[b]={nextPos:c,result:a};return a}function aa(){var b="index_accessor@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var d,f,e,g;g=e=c;a=F();null!==a?(d=I(),null!==d?(f=J(),null!==f?a=[a,d,f]:(a=null,c=g)):(a=null,c=g)):(a=null,c=g);null!==a&&(a=new x({type:"accessor",index:a[1]}));null===a&&(c=e);n[b]={nextPos:c,result:a};return a}function ba(){var d="field_selector@"+c,a=n[d];if(a)return c=
a.nextPos,a.result;var h,f,e;e=f=c;46===b.charCodeAt(c)?(a=".",c+=1):(a=null,0===l&&k('"."'));null!==a?(h=G(),null!==h?a=[a,h]:(a=null,c=e)):(a=null,c=e);null!==a&&(a=new x({type:"field_selector",selection:a[1].name}));null===a&&(c=f);n[d]={nextPos:c,result:a};return a}function Jb(){var b="postfix_expression@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var d,f,e,g;g=a=c;d=Hb();if(null!==d){f=[];e=ba();for(null===e&&(e=aa());null!==e;)f.push(e),e=ba(),null===e&&(e=aa());null!==f?d=[d,f]:(d=null,c=g)}else d=
null,c=g;if(null!==d)for(f=d[1],d=d[0],e=0;e<f.length;e++)d=new x({type:"postfix",operator:f[e],expression:d});null===d&&(c=a);n[b]={nextPos:c,result:d};return d}function Kb(){var d="postfix_expression_no_repeat@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g,t,m;m=a=c;h=Jb();if(null!==h)if(f=p(),f=null!==f?f:"",null!==f)if("++"===b.substr(c,2)?(e="++",c+=2):(e=null,0===l&&k('"++"')),null===e&&("--"===b.substr(c,2)?(e="--",c+=2):(e=null,0===l&&k('"--"'))),e=null!==e?e:"",null!==e){g=[];t=
ba();for(null===t&&(t=aa());null!==t;)g.push(t),t=ba(),null===t&&(t=aa());null!==g?h=[h,f,e,g]:(h=null,c=m)}else h=null,c=m;else h=null,c=m;else h=null,c=m;if(null!==h)for(e=h[2],f=h[3],h=h[0],e&&(h=new x({type:"postfix",operator:new x({id:Lb++,type:"operator",operator:e}),expression:h})),e=0;e<f.length;e++)h=new x({type:"postfix",operator:f[e],expression:h});null===h&&(c=a);n[d]={nextPos:c,result:h};return h}function Ea(){var d="parameter_list@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,
e,g,t,m;g=c;"void"===b.substr(c,4)?(a="void",c+=4):(a=null,0===l&&k('"void"'));null!==a&&(a=[]);null===a&&(c=g);if(null===a){t=g=c;a=I();if(null!==a){h=[];m=c;f=u();null!==f?(e=I(),null!==e?f=[f,e]:(f=null,c=m)):(f=null,c=m);for(;null!==f;)h.push(f),m=c,f=u(),null!==f?(e=I(),null!==e?f=[f,e]:(f=null,c=m)):(f=null,c=m);null!==h?a=[a,h]:(a=null,c=t)}else a=null,c=t;null!==a&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],a[1]));null===a&&(c=g)}n[d]={nextPos:c,result:a};return a}
function Ib(){var b="function_call@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var d,f,e,g,k;k=a=c;d=Mb();null!==d?(f=L(),null!==f?(e=Ea(),e=null!==e?e:"",null!==e?(g=H(),null!==g?d=[d,f,e,g]:(d=null,c=k)):(d=null,c=k)):(d=null,c=k)):(d=null,c=k);null!==d&&(f=d[2],d=new x({type:"function_call",function_name:d[0],parameters:f}),f||(d.parameters=[]));null===d&&(c=a);n[b]={nextPos:c,result:d};return d}function Mb(){var b="function_identifier@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var d;d=c;a=G();
null!==a&&(a=a.name);null===a&&(c=d);null===a&&(a=V());n[b]={nextPos:c,result:a};return a}function ma(){var d="unary_expression@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g;g=e=c;"++"===b.substr(c,2)?(a="++",c+=2):(a=null,0===l&&k('"++"'));null===a&&("--"===b.substr(c,2)?(a="--",c+=2):(a=null,0===l&&k('"--"')),null===a&&(33===b.charCodeAt(c)?(a="!",c+=1):(a=null,0===l&&k('"!"')),null===a&&(126===b.charCodeAt(c)?(a="~",c+=1):(a=null,0===l&&k('"~"')),null===a&&(43===b.charCodeAt(c)?(a="+",
c+=1):(a=null,0===l&&k('"+"')),null===a&&(45===b.charCodeAt(c)?(a="-",c+=1):(a=null,0===l&&k('"-"')))))));a=null!==a?a:"";null!==a?(h=p(),h=null!==h?h:"",null!==h?(f=Kb(),null!==f?a=[a,h,f]:(a=null,c=g)):(a=null,c=g)):(a=null,c=g);null!==a&&(h=a[0],D=a[2],h&&(D=new x({type:"unary",expression:D,operator:new x({type:"operator",operator:h})})),a=D);null===a&&(c=e);n[d]={nextPos:c,result:a};return a}function Va(){var d="multiplicative_operator@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g;e=
f=c;42===b.charCodeAt(c)?(a="*",c+=1):(a=null,0===l&&k('"*"'));null===a&&(47===b.charCodeAt(c)?(a="/",c+=1):(a=null,0===l&&k('"/"')),null===a&&(37===b.charCodeAt(c)?(a="%",c+=1):(a=null,0===l&&k('"%"'))));null!==a?(g=c,l++,61===b.charCodeAt(c)?(h="=",c+=1):(h=null,0===l&&k('"="')),l--,null===h?h="":(h=null,c=g),null!==h?a=[a,h]:(a=null,c=e)):(a=null,c=e);null!==a&&(a=new x({type:"operator",operator:a[0]}));null===a&&(c=f);n[d]={nextPos:c,result:a};return a}function na(){var b="multiplicative_expression@"+
c,a=n[b];if(a)return c=a.nextPos,a.result;var d,f,e,g,k,l,m,q;m=l=c;a=ma();if(null!==a){d=[];q=c;f=p();f=null!==f?f:"";null!==f?(e=Va(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=ma(),null!==k?f=[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);for(;null!==f;)d.push(f),q=c,f=p(),f=null!==f?f:"",null!==f?(e=Va(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=ma(),null!==k?f=[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);null!==d?a=[a,d]:(a=null,c=m)}else a=null,c=m;null!==
a&&(a=K(a[0],a[1]));null===a&&(c=l);n[b]={nextPos:c,result:a};return a}function Wa(){var d="additive_operator@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var h,f,e,g;e=f=c;43===b.charCodeAt(c)?(a="+",c+=1):(a=null,0===l&&k('"+"'));null!==a?(g=c,l++,43===b.charCodeAt(c)?(h="+",c+=1):(h=null,0===l&&k('"+"')),null===h&&(61===b.charCodeAt(c)?(h="=",c+=1):(h=null,0===l&&k('"="'))),l--,null===h?h="":(h=null,c=g),null!==h?a=[a,h]:(a=null,c=e)):(a=null,c=e);null!==a&&(a=new x({type:"operator",operator:"+"}));
null===a&&(c=f);null===a&&(e=f=c,45===b.charCodeAt(c)?(a="-",c+=1):(a=null,0===l&&k('"-"')),null!==a?(g=c,l++,45===b.charCodeAt(c)?(h="-",c+=1):(h=null,0===l&&k('"-"')),null===h&&(61===b.charCodeAt(c)?(h="=",c+=1):(h=null,0===l&&k('"="'))),l--,null===h?h="":(h=null,c=g),null!==h?a=[a,h]:(a=null,c=e)):(a=null,c=e),null!==a&&(a=new x({type:"operator",operator:"-"})),null===a&&(c=f));n[d]={nextPos:c,result:a};return a}function oa(){var b="additive_expression@"+c,a=n[b];if(a)return c=a.nextPos,a.result;
var d,f,e,g,k,l,m,q;m=l=c;a=na();if(null!==a){d=[];q=c;f=p();f=null!==f?f:"";null!==f?(e=Wa(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=na(),null!==k?f=[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);for(;null!==f;)d.push(f),q=c,f=p(),f=null!==f?f:"",null!==f?(e=Wa(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=na(),null!==k?f=[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);null!==d?a=[a,d]:(a=null,c=m)}else a=null,c=m;null!==a&&(a=K(a[0],a[1]));null===a&&(c=l);
n[b]={nextPos:c,result:a};return a}function Xa(){var d="shift_operator@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var e,f,g,m;g=f=c;"<<"===b.substr(c,2)?(a="<<",c+=2):(a=null,0===l&&k('"<<"'));null===a&&(">>"===b.substr(c,2)?(a=">>",c+=2):(a=null,0===l&&k('">>"')));null!==a?(m=c,l++,61===b.charCodeAt(c)?(e="=",c+=1):(e=null,0===l&&k('"="')),l--,null===e?e="":(e=null,c=m),null!==e?a=[a,e]:(a=null,c=g)):(a=null,c=g);null!==a&&(a=new x({type:"operator",operator:a[0]}));null===a&&(c=f);n[d]={nextPos:c,
result:a};return a}function pa(){var b="shift_expression@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var d,f,e,g,k,l,m,q;m=l=c;a=oa();if(null!==a){d=[];q=c;f=p();f=null!==f?f:"";null!==f?(e=Xa(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=oa(),null!==k?f=[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);for(;null!==f;)d.push(f),q=c,f=p(),f=null!==f?f:"",null!==f?(e=Xa(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=oa(),null!==k?f=[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=
null,c=q);null!==d?a=[a,d]:(a=null,c=m)}else a=null,c=m;null!==a&&(a=K(a[0],a[1]));null===a&&(c=l);n[b]={nextPos:c,result:a};return a}function Ya(){var d="relational_operator@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var e,f,g,m;m=g=c;60===b.charCodeAt(c)?(a="<",c+=1):(a=null,0===l&&k('"<"'));null!==a?(f=c,l++,60===b.charCodeAt(c)?(e="<",c+=1):(e=null,0===l&&k('"<"')),l--,null===e?e="":(e=null,c=f),null!==e?(61===b.charCodeAt(c)?(f="=",c+=1):(f=null,0===l&&k('"="')),f=null!==f?f:"",null!==f?a=[a,
e,f]:(a=null,c=m)):(a=null,c=m)):(a=null,c=m);null!==a&&(a=new x({type:"operator",operator:"<"+a[2]}));null===a&&(c=g);null===a&&(m=g=c,62===b.charCodeAt(c)?(a=">",c+=1):(a=null,0===l&&k('">"')),null!==a?(f=c,l++,62===b.charCodeAt(c)?(e=">",c+=1):(e=null,0===l&&k('">"')),l--,null===e?e="":(e=null,c=f),null!==e?(61===b.charCodeAt(c)?(f="=",c+=1):(f=null,0===l&&k('"="')),f=null!==f?f:"",null!==f?a=[a,e,f]:(a=null,c=m)):(a=null,c=m)):(a=null,c=m),null!==a&&(a=new x({type:"operator",operator:">"+a[2]})),
null===a&&(c=g));n[d]={nextPos:c,result:a};return a}function qa(){var b="relational_expression@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var d,f,e,g,k,l,m,q;m=l=c;a=pa();if(null!==a){d=[];q=c;f=p();f=null!==f?f:"";null!==f?(e=Ya(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=pa(),null!==k?f=[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);for(;null!==f;)d.push(f),q=c,f=p(),f=null!==f?f:"",null!==f?(e=Ya(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=pa(),null!==k?f=[f,e,g,k]:(f=null,
c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);null!==d?a=[a,d]:(a=null,c=m)}else a=null,c=m;null!==a&&(a=K(a[0],a[1]));null===a&&(c=l);n[b]={nextPos:c,result:a};return a}function Za(){var d="equality_operator@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var e;e=c;"=="===b.substr(c,2)?(a="==",c+=2):(a=null,0===l&&k('"=="'));null===a&&("!="===b.substr(c,2)?(a="!=",c+=2):(a=null,0===l&&k('"!="')));null!==a&&(a=new x({type:"operator",operator:a}));null===a&&(c=e);n[d]={nextPos:c,result:a};return a}function ra(){var b=
"equality_expression@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var d,f,e,g,k,l,m,q;m=l=c;a=qa();if(null!==a){d=[];q=c;f=p();f=null!==f?f:"";null!==f?(e=Za(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=qa(),null!==k?f=[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);for(;null!==f;)d.push(f),q=c,f=p(),f=null!==f?f:"",null!==f?(e=Za(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=qa(),null!==k?f=[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);null!==d?a=[a,d]:(a=null,
c=m)}else a=null,c=m;null!==a&&(a=K(a[0],a[1]));null===a&&(c=l);n[b]={nextPos:c,result:a};return a}function $a(){var d="bitwise_and_operator@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var e,f,g,m;g=f=c;38===b.charCodeAt(c)?(a="&",c+=1):(a=null,0===l&&k('"&"'));null!==a?(m=c,l++,61===b.charCodeAt(c)?(e="=",c+=1):(e=null,0===l&&k('"="')),null===e&&(38===b.charCodeAt(c)?(e="&",c+=1):(e=null,0===l&&k('"&"'))),l--,null===e?e="":(e=null,c=m),null!==e?a=[a,e]:(a=null,c=g)):(a=null,c=g);null!==a&&(a=new x({type:"operator",
operator:"&"}));null===a&&(c=f);n[d]={nextPos:c,result:a};return a}function sa(){var b="bitwise_and_expression@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var d,f,e,g,k,l,m,q;m=l=c;a=ra();if(null!==a){d=[];q=c;f=p();f=null!==f?f:"";null!==f?(e=$a(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=ra(),null!==k?f=[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);for(;null!==f;)d.push(f),q=c,f=p(),f=null!==f?f:"",null!==f?(e=$a(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=ra(),null!==k?f=
[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);null!==d?a=[a,d]:(a=null,c=m)}else a=null,c=m;null!==a&&(a=K(a[0],a[1]));null===a&&(c=l);n[b]={nextPos:c,result:a};return a}function ab(){var d="bitwise_xor_operator@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var e,f,g,m;g=f=c;94===b.charCodeAt(c)?(a="^",c+=1):(a=null,0===l&&k('"^"'));null!==a?(m=c,l++,61===b.charCodeAt(c)?(e="=",c+=1):(e=null,0===l&&k('"="')),null===e&&(94===b.charCodeAt(c)?(e="^",c+=1):(e=null,0===l&&k('"^"'))),l--,
null===e?e="":(e=null,c=m),null!==e?a=[a,e]:(a=null,c=g)):(a=null,c=g);null!==a&&(a=new x({type:"operator",operator:"^"}));null===a&&(c=f);n[d]={nextPos:c,result:a};return a}function ta(){var b="bitwise_xor_expression@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var d,f,e,g,k,l,m,q;m=l=c;a=sa();if(null!==a){d=[];q=c;f=p();f=null!==f?f:"";null!==f?(e=ab(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=sa(),null!==k?f=[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);for(;null!==f;)d.push(f),
q=c,f=p(),f=null!==f?f:"",null!==f?(e=ab(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=sa(),null!==k?f=[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);null!==d?a=[a,d]:(a=null,c=m)}else a=null,c=m;null!==a&&(a=K(a[0],a[1]));null===a&&(c=l);n[b]={nextPos:c,result:a};return a}function bb(){var d="bitwise_or_operator@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var e,f,g,m;g=f=c;124===b.charCodeAt(c)?(a="|",c+=1):(a=null,0===l&&k('"|"'));null!==a?(m=c,l++,61===b.charCodeAt(c)?(e="=",
c+=1):(e=null,0===l&&k('"="')),null===e&&(124===b.charCodeAt(c)?(e="|",c+=1):(e=null,0===l&&k('"|"'))),l--,null===e?e="":(e=null,c=m),null!==e?a=[a,e]:(a=null,c=g)):(a=null,c=g);null!==a&&(a=new x({type:"operator",operator:"|"}));null===a&&(c=f);n[d]={nextPos:c,result:a};return a}function ua(){var b="bitwise_or_expression@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var d,f,e,g,k,l,m,q;m=l=c;a=ta();if(null!==a){d=[];q=c;f=p();f=null!==f?f:"";null!==f?(e=bb(),null!==e?(g=p(),g=null!==g?g:"",null!==
g?(k=ta(),null!==k?f=[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);for(;null!==f;)d.push(f),q=c,f=p(),f=null!==f?f:"",null!==f?(e=bb(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=ta(),null!==k?f=[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);null!==d?a=[a,d]:(a=null,c=m)}else a=null,c=m;null!==a&&(a=K(a[0],a[1]));null===a&&(c=l);n[b]={nextPos:c,result:a};return a}function cb(){var d="logical_and_operator@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var e;e=c;"&&"===
b.substr(c,2)?(a="&&",c+=2):(a=null,0===l&&k('"&&"'));null!==a&&(a=new x({type:"operator",operator:"&&"}));null===a&&(c=e);n[d]={nextPos:c,result:a};return a}function va(){var b="logical_and_expression@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var d,f,e,g,k,l,m,q;m=l=c;a=ua();if(null!==a){d=[];q=c;f=p();f=null!==f?f:"";null!==f?(e=cb(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=ua(),null!==k?f=[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);for(;null!==f;)d.push(f),q=c,f=p(),f=
null!==f?f:"",null!==f?(e=cb(),null!==e?(g=p(),g=null!==g?g:"",null!==g?(k=ua(),null!==k?f=[f,e,g,k]:(f=null,c=q)):(f=null,c=q)):(f=null,c=q)):(f=null,c=q);null!==d?a=[a,d]:(a=null,c=m)}else a=null,c=m;null!==a&&(a=K(a[0],a[1]));null===a&&(c=l);n[b]={nextPos:c,result:a};return a}function db(){var d="logical_xor_operator@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var e;e=c;"^^"===b.substr(c,2)?(a="^^",c+=2):(a=null,0===l&&k('"^^"'));null!==a&&(a=new x({type:"operator",operator:"^^"}));null===a&&(c=
e);n[d]={nextPos:c,result:a};return a}function wa(){var b="logical_xor_expression@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var d,e,g,k,l,m,r,q;r=m=c;a=va();if(null!==a){d=[];q=c;e=p();e=null!==e?e:"";null!==e?(g=db(),null!==g?(k=p(),k=null!==k?k:"",null!==k?(l=va(),null!==l?e=[e,g,k,l]:(e=null,c=q)):(e=null,c=q)):(e=null,c=q)):(e=null,c=q);for(;null!==e;)d.push(e),q=c,e=p(),e=null!==e?e:"",null!==e?(g=db(),null!==g?(k=p(),k=null!==k?k:"",null!==k?(l=va(),null!==l?e=[e,g,k,l]:(e=null,c=q)):(e=null,
c=q)):(e=null,c=q)):(e=null,c=q);null!==d?a=[a,d]:(a=null,c=r)}else a=null,c=r;null!==a&&(a=K(a[0],a[1]));null===a&&(c=m);n[b]={nextPos:c,result:a};return a}function eb(){var d="logical_or_operator@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var e;e=c;"||"===b.substr(c,2)?(a="||",c+=2):(a=null,0===l&&k('"||"'));null!==a&&(a=new x({type:"operator",operator:"||"}));null===a&&(c=e);n[d]={nextPos:c,result:a};return a}function Nb(){var b="logical_or_expression@"+c,a=n[b];if(a)return c=a.nextPos,a.result;
var d,e,g,k,l,m,r,q;r=m=c;a=wa();if(null!==a){d=[];q=c;e=p();e=null!==e?e:"";null!==e?(g=eb(),null!==g?(k=p(),k=null!==k?k:"",null!==k?(l=wa(),null!==l?e=[e,g,k,l]:(e=null,c=q)):(e=null,c=q)):(e=null,c=q)):(e=null,c=q);for(;null!==e;)d.push(e),q=c,e=p(),e=null!==e?e:"",null!==e?(g=eb(),null!==g?(k=p(),k=null!==k?k:"",null!==k?(l=wa(),null!==l?e=[e,g,k,l]:(e=null,c=q)):(e=null,c=q)):(e=null,c=q)):(e=null,c=q);null!==d?a=[a,d]:(a=null,c=r)}else a=null,c=r;null!==a&&(a=K(a[0],a[1]));null===a&&(c=m);
n[b]={nextPos:c,result:a};return a}function P(){var d="conditional_expression@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var e,f,g,m,t,r,u,q,w,E,B;E=a=c;e=Nb();null!==e?(B=c,f=p(),f=null!==f?f:"",null!==f?(63===b.charCodeAt(c)?(g="?",c+=1):(g=null,0===l&&k('"?"')),null!==g?(m=p(),m=null!==m?m:"",null!==m?(t=I(),null!==t?(r=p(),r=null!==r?r:"",null!==r?(58===b.charCodeAt(c)?(u=":",c+=1):(u=null,0===l&&k('":"')),null!==u?(q=p(),q=null!==q?q:"",null!==q?(w=I(),null!==w?f=[f,g,m,t,r,u,q,w]:(f=null,c=
B)):(f=null,c=B)):(f=null,c=B)):(f=null,c=B)):(f=null,c=B)):(f=null,c=B)):(f=null,c=B)):(f=null,c=B),f=null!==f?f:"",null!==f?e=[e,f]:(e=null,c=E)):(e=null,c=E);null!==e&&(f=e[0],e=e[1],D=f,e&&(D=new x({type:"ternary",condition:f,is_true:e[3],is_false:e[7]})),e=D);null===e&&(c=a);n[d]={nextPos:c,result:e};return e}function I(){var d="assignment_expression@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var e,f,g,m,r,u;u=r=c;a=P();null!==a?(e=p(),e=null!==e?e:"",null!==e?(61===b.charCodeAt(c)?(f="=",c+=
1):(f=null,0===l&&k('"="')),null===f&&("*="===b.substr(c,2)?(f="*=",c+=2):(f=null,0===l&&k('"*="')),null===f&&("/="===b.substr(c,2)?(f="/=",c+=2):(f=null,0===l&&k('"/="')),null===f&&("%="===b.substr(c,2)?(f="%=",c+=2):(f=null,0===l&&k('"%="')),null===f&&("+="===b.substr(c,2)?(f="+=",c+=2):(f=null,0===l&&k('"+="')),null===f&&("-="===b.substr(c,2)?(f="-=",c+=2):(f=null,0===l&&k('"-="')),null===f&&("<<="===b.substr(c,3)?(f="<<=",c+=3):(f=null,0===l&&k('"<<="')),null===f&&(">>="===b.substr(c,3)?(f=">>=",
c+=3):(f=null,0===l&&k('">>="')),null===f&&("&="===b.substr(c,2)?(f="&=",c+=2):(f=null,0===l&&k('"&="')),null===f&&("^="===b.substr(c,2)?(f="^=",c+=2):(f=null,0===l&&k('"^="')),null===f&&("|="===b.substr(c,2)?(f="|=",c+=2):(f=null,0===l&&k('"|="')))))))))))),null!==f?(g=p(),g=null!==g?g:"",null!==g?(m=I(),null!==m?a=[a,e,f,g,m]:(a=null,c=u)):(a=null,c=u)):(a=null,c=u)):(a=null,c=u)):(a=null,c=u);null!==a&&(e=a[0],f=a[4],a=new x({type:"binary",operator:new x({type:"operator",operator:a[2]}),left:e,
right:f}));null===a&&(c=r);null===a&&(a=P());n[d]={nextPos:c,result:a};return a}function Ma(){var d="condition@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var e,f,g,m,r,u,w;w=c;a=U();null!==a?(e=p(),null!==e?(f=G(),null!==f?(g=p(),g=null!==g?g:"",null!==g?(61===b.charCodeAt(c)?(m="=",c+=1):(m=null,0===l&&k('"="')),null!==m?(r=p(),r=null!==r?r:"",null!==r?(u=I(),null!==u?a=[a,e,f,g,m,r,u]:(a=null,c=w)):(a=null,c=w)):(a=null,c=w)):(a=null,c=w)):(a=null,c=w)):(a=null,c=w)):(a=null,c=w);null===a&&(a=
I());n[d]={nextPos:c,result:a};return a}function Rb(){var d;a:{d=xa;d.sort();for(var a=null,e=[],f=0;f<d.length;f++)d[f]!==a&&(e.push(d[f]),a=d[f]);switch(e.length){case 0:d="end of input";break a;case 1:d=e[0];break a;default:d=e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}}a=Math.max(c,Q);a=a<b.length?g(b.charAt(a)):"end of input";return"Expected "+d+" but "+a+" found."}function Ob(){for(var d=1,a=1,e=!1,f=0;f<Math.max(c,Q);f++){var g=b.charAt(f);"\n"===g?(e||d++,a=1,e=!1):"\r"===g||"\u2028"===
g||"\u2029"===g?(d++,a=1,e=!0):(a++,e=!1)}return{line:d,column:a}}function x(c){this.id=Lb++;this.line=Ob().line;for(var a in c)c.hasOwnProperty(a)&&(this[a]=c[a])}function K(c,a){for(var b=c,d=0;d<a.length;d++)b=new x({type:"binary",operator:a[d][1],left:b,right:a[d][3]});return b}function mb(c,a,b){b&&(a=a.concat([b]));b=c[0];b.guarded_statements=c[1].statements;c=b;for(var d=0;d<a.length;d++)c.elseBody=a[d][0],c.elseBody.guarded_statements=a[d][1].statements,c=c.elseBody;return b}var Pb={EOF:r,
_:p,additive_expression:oa,additive_operator:Wa,assignment_expression:I,attribute_qualifier:Ra,attribute_type:ub,bitwise_and_expression:sa,bitwise_and_operator:$a,bitwise_or_expression:ua,bitwise_or_operator:bb,bitwise_xor_expression:ta,bitwise_xor_operator:ab,bool_constant:Gb,comma:u,comment:E,compound_statement:ea,condition:Ma,conditional_expression:P,const_qualifier:ja,declaration:ga,declarator:X,declarator_array_with_size:Z,declarator_list:zb,declarator_list_arrays_have_size:Pa,declarator_list_no_array:vb,
declarator_no_array:Y,do_while:sb,equality_expression:ra,equality_operator:Za,equals:fb,expression_statement:La,external_declaration:hb,external_statement:Aa,external_statement_list:M,field_selector:ba,float_constant:Eb,float_exponent:la,for_loop:qb,fragment_start:function(){var b="fragment_start@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var d,e,g;g=e=c;T="fs";a="";null!==a?(d=M(),null!==d?a=[a,d]:(a=null,c=g)):(a=null,c=g);null!==a&&(a=a[1]);null===a&&(c=e);n[b]={nextPos:c,result:a};return a},
fully_specified_type:tb,function_call:Ib,function_definition:ib,function_identifier:Mb,function_prototype:Ja,function_prototype_parameter_list:wb,global_declaration:jb,identifier:G,index_accessor:aa,init_declarator:ka,init_declarator_list:Oa,int_constant:Db,iteration_statement:ob,jump_statement:pb,keyword:Cb,left_brace:ya,left_bracket:F,left_paren:L,locally_specified_type:U,logical_and_expression:va,logical_and_operator:cb,logical_or_expression:Nb,logical_or_operator:eb,logical_xor_expression:wa,
logical_xor_operator:db,macro_call:ca,macro_call_line:function(){var d="macro_call_line@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var e,f,g,m;m=g=c;a=ca();a=null!==a?a:"";if(null!==a){e=[];/^[^\n]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,0===l&&k("[^\\n]"));for(;null!==f;)e.push(f),/^[^\n]/.test(b.charAt(c))?(f=b.charAt(c),c++):(f=null,0===l&&k("[^\\n]"));null!==e?a=[a,e]:(a=null,c=m)}else a=null,c=m;null!==a&&(a={macro_call:a[0],rest_of_line:a[1].join("")});null===a&&(c=g);n[d]={nextPos:c,
result:a};return a},macro_call_parameter:da,macro_call_parameter_list:function(){var b="macro_call_parameter_list@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var d,e,g,k,l,m;l=k=c;a=da();if(null!==a){d=[];m=c;e=u();null!==e?(g=da(),null!==g?e=[e,g]:(e=null,c=m)):(e=null,c=m);for(;null!==e;)d.push(e),m=c,e=u(),null!==e?(g=da(),null!==g?e=[e,g]:(e=null,c=m)):(e=null,c=m);null!==d?a=[a,d]:(a=null,c=l)}else a=null,c=l;null!==a&&(a=function(a,c){return[a].concat(c.map(function(a){return a[1]}))}(a[0],
a[1]));null===a&&(c=k);n[b]={nextPos:c,result:a};return a},macro_identifier:N,macro_paren_parameter:Da,matrix:Ta,member_list:Ab,multiplicative_expression:na,multiplicative_operator:Va,newLine:m,noNewlineComment:z,noNewlineWhitespace:w,parameter_declaration:ia,parameter_list:Ea,parameter_qualifier:yb,paren_expression:Fb,postfix_expression:Jb,postfix_expression_no_repeat:Kb,precision_qualifier:ha,precision_type:W,preprocessor_define:Ba,preprocessor_else:Ga,preprocessor_else_if:R,preprocessor_end:Ha,
preprocessor_external_branch:gb,preprocessor_if:Fa,preprocessor_operator:Ca,preprocessor_parameter_list:lb,preprocessor_statement_branch:Ia,primary_expression:Hb,relational_expression:qa,relational_operator:Ya,reserved:function(){var d="reserved@"+c,a=n[d];if(a)return c=a.nextPos,a.result;var e,f,g,m;l++;m=c;a=[];for(e=Ua();null!==e;)a.push(e),e=Ua();if(null!==a)if("__"===b.substr(c,2)?(e="__",c+=2):(e=null,0===l&&k('"__"')),null!==e){f=[];/^[A-Za-z_0-9]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=
null,0===l&&k("[A-Za-z_0-9]"));for(;null!==g;)f.push(g),/^[A-Za-z_0-9]/.test(b.charAt(c))?(g=b.charAt(c),c++):(g=null,0===l&&k("[A-Za-z_0-9]"));null!==f?a=[a,e,f]:(a=null,c=m)}else a=null,c=m;else a=null,c=m;l--;0===l&&null===a&&k("reserved name");n[d]={nextPos:c,result:a};return a},right_brace:za,right_bracket:J,right_paren:H,selection_statement:nb,semicolon:B,shift_expression:pa,shift_operator:Xa,simple_statement:Ka,single_underscore_identifier:Ua,statement_list:O,statement_no_new_scope:S,statement_with_scope:fa,
struct_definition:kb,type_name:V,type_qualifier:Qa,unary_expression:ma,vector:Sa,vertex_start:function(){var b="vertex_start@"+c,a=n[b];if(a)return c=a.nextPos,a.result;var d,e,g;g=e=c;T="vs";a="";null!==a?(d=M(),null!==d?a=[a,d]:(a=null,c=g)):(a=null,c=g);null!==a&&(a=a[1]);null===a&&(c=e);n[b]={nextPos:c,result:a};return a},void_type:xb,while_loop:rb,while_statement:Na};if(void 0!==d){if(void 0===Pb[d])throw Error("Invalid rule name: "+g(d)+".");}else d="external_statement_list";var c=0,l=0,Q=0,
xa=[],n={},Bb={},Lb=0,T="vs",D=Pb[d]();if(null===D||c!==b.length){var Qb=Ob();throw new glslunit.glsl.parser.SyntaxError(Rb(),Qb.line,Qb.column);}return D};glslunit.glsl.parser.SyntaxError=function(b,d,e){this.name="SyntaxError";this.message=b;this.line=d;this.column=e};glslunit.glsl.parser.SyntaxError.prototype=Error.prototype;goog.node={};goog.node.flagType={STRING:"string",STRING_ARRAY:"string_array",BOOLEAN:"boolean",INTEGER:"integer"};goog.node.commandLineFlag=function(b,d,e,g){this.name=b;this.type=d;this.defaultValue=e;this.description=g;this.value=void 0};goog.node.commandLineFlag.prototype.getTypeHelp=function(){return""};goog.node.commandLineFlag.prototype.isRequired=function(){return!goog.isDef(this.defaultValue)};
goog.node.commandLineFlag.prototype.getValue=function(){return goog.isDef(this.value)?this.value:this.defaultValue};goog.node.commandLineFlag.prototype.parseValue=function(b){this.value=b};goog.node.arrayCommandLineFlag=function(b,d,e,g){goog.node.commandLineFlag.call(this,b,d,e,g);this.value=void 0};goog.inherits(goog.node.arrayCommandLineFlag,goog.node.commandLineFlag);goog.node.arrayCommandLineFlag.prototype.getTypeHelp=function(){return"repeat this option to specify a list of values"};
goog.node.arrayCommandLineFlag.prototype.parseValue=function(b){goog.isDef(this.value)||(this.value=[]);-1!=b.search(",")?this.value.push.apply(this.value,b.split(",")):this.value.push(b)};goog.node.FLAGS=function(){};goog.node.FLAGS.definedFlags_={};goog.node.FLAGS.define_string=function(b,d,e){var g=new goog.node.commandLineFlag(b,goog.node.flagType.STRING,d,e);goog.node.FLAGS.definedFlags_[b]=g;goog.node.FLAGS.__defineGetter__(b,function(){return String(g.getValue())})};
goog.node.FLAGS.define_string_array=function(b,d,e){var g=new goog.node.arrayCommandLineFlag(b,goog.node.flagType.STRING_ARRAY,d,e);goog.node.FLAGS.definedFlags_[b]=g;goog.node.FLAGS.__defineGetter__(b,function(){return g.getValue().map(String)})};goog.node.FLAGS.define_bool=function(b,d,e){var g=new goog.node.commandLineFlag(b,goog.node.flagType.BOOLEAN,d,e);goog.node.FLAGS.definedFlags_[b]=g;goog.node.FLAGS.__defineGetter__(b,function(){var b=g.getValue();return Boolean(/^[tT]rue$/.test(b))})};
goog.node.FLAGS.define_integer=function(b,d,e){var g=new goog.node.commandLineFlag(b,goog.node.flagType.INTEGER,d,e);goog.node.FLAGS.definedFlags_[b]=g;goog.node.FLAGS.__defineGetter__(b,function(){var d=g.getValue();/^\d*$/.exec(d)||(console.error("Flag "+b+" is not an integer.\n"),goog.node.FLAGS.printHelp(),process.exit(1));return parseInt(d,10)})};
goog.node.FLAGS.parseArgs=function(){var b=null;process.argv.forEach(function(d,e,m){if(!(1>=e)){"--help"==d&&(goog.node.FLAGS.printHelp(),process.exit(0));var r,p,z="--"==d.slice(0,2),w=b&&"--"==b.slice(0,2),E=d.split("=");z&&1<E.length?(r=E[0],p=E.slice(1).join("=")):b?w&&z?(p=goog.node.FLAGS.parseSingleBooleanFlag_(b),r=p.flag,p=p.flagValue,b=d):w?(r=b,p=d):(console.error("Invalid command line flag "+b+" "+d),goog.node.FLAGS.printHelp(),process.exit(1)):b=d;e==m.length-1&&b&&w&&!r&&(p=goog.node.FLAGS.parseSingleBooleanFlag_(b),
r=p.flag,p=p.flagValue);r&&p&&(r=r.slice(2),r in goog.node.FLAGS.definedFlags_?(goog.node.FLAGS.definedFlags_[r].parseValue(p),b=null):(console.error("Unknown flag "+r),goog.node.FLAGS.printHelp(),process.exit(1)))}});for(var d in goog.node.FLAGS.definedFlags_){var e=goog.node.FLAGS.definedFlags_[d];e.isRequired()&&!goog.isDef(e.value)&&(console.error("Flag "+d+" is required but not provided.\n"),goog.node.FLAGS.printHelp(),process.exit(1))}};
goog.node.FLAGS.parseSingleBooleanFlag_=function(b){b=b.slice(2);var d="true";!(b in goog.node.FLAGS.definedFlags_)&&"no"==b.slice(0,2)&&b.slice(2)in goog.node.FLAGS.definedFlags_&&(b=b.slice(2),d="false");return{flag:"--"+b,flagValue:d}};
goog.node.FLAGS.printHelp=function(){var b="Flags:\n",d;for(d in goog.node.FLAGS.definedFlags_){var e=goog.node.FLAGS.definedFlags_[d],b=b+("  --"+e.name+": "+e.description),g=e.getTypeHelp();g&&(b+="\n    "+g);b=e.isRequired()?b+"\n    (required)\n":b+("\n    (default: '"+e.defaultValue+"')\n")}process.stdout.write(b+"\n")};glslunit.utils={};glslunit.utils.getFunctionSuffix=function(b){return glslunit.utils.toTitleOrCamelCase(b,!0)};glslunit.utils.toTitleOrCamelCase=function(b,d,e){b=b.split(e||/_/g).map(function(b){return b.slice(0,1).toUpperCase()+b.slice(1).toLowerCase()}).join("");d||(b=b.slice(0,1).toLowerCase()+b.slice(1));return b};
glslunit.utils.BUILT_IN_GLOBALS=["varying mediump vec4 gl_FragCoord;","varying bool gl_FrontFacing;","varying mediump vec2 gl_PointCoord;"].map(function(b){return glslunit.glsl.parser.parse(b,"global_declaration")});/*

 Copyright (c) 2009 Chris Wanstrath (Ruby)
 Copyright (c) 2010 Jan Lehnardt (JavaScript)

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

*/
var Mustache=function(){function b(b){return String(b).replace(/&(?!\w+;)|[<>"']/g,function(b){return p[b]||b})}function d(){}var e=Object.prototype.toString;Array.isArray=Array.isArray||function(b){return"[object Array]"==e.call(b)};var g=String.prototype.trim,k;if(g)k=function(b){return null==b?"":g.call(b)};else{var m,r;/\S/.test("\u00a0")?(m=/^[\s\xA0]+/,r=/[\s\xA0]+$/):(m=/^\s+/,r=/\s+$/);k=function(b){return null==b?"":b.toString().replace(m,"").replace(r,"")}}var p={"&":"&amp;","<":"&lt;",
">":"&gt;",'"':"&quot;","'":"&#39;"},z={};d.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(b,d,e,g){g||(this.context=d,this.buffer=[]);if(this.includes("",b)){b=this.render_pragmas(b);var k=this.render_section(b,d,e);!1===k&&(k=this.render_tags(b,d,e,g));if(g)return k;this.sendLines(k)}else{if(g)return b;this.send(b)}},send:function(b){""!==b&&this.buffer.push(b)},sendLines:function(b){if(b){b=b.split("\n");for(var d=0;d<
b.length;d++)this.send(b[d])}},render_pragmas:function(b){if(!this.includes("%",b))return b;var d=this,e=this.getCachedRegex("render_pragmas",function(b,d){return new RegExp(b+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+d,"g")});return b.replace(e,function(b,e,g){if(!d.pragmas_implemented[e])throw{message:"This implementation of mustache doesn't understand the '"+e+"' pragma"};d.pragmas[e]={};g&&(b=g.split("="),d.pragmas[e][b[0]]=b[1]);return""})},render_partial:function(b,d,e){b=k(b);if(!e||void 0===e[b])throw{message:"unknown_partial '"+
b+"'"};return d&&"object"==typeof d[b]?this.render(e[b],d[b],e,!0):this.render(e[b],d,e,!0)},render_section:function(b,d,e){if(!this.includes("#",b)&&!this.includes("^",b))return!1;var g=this,k=this.getCachedRegex("render_section",function(b,d){return new RegExp("^([\\s\\S]*?)"+b+"(\\^|\\#)\\s*(.+)\\s*"+d+"\n*([\\s\\S]*?)"+b+"\\/\\s*\\3\\s*"+d+"\\s*([\\s\\S]*)$","g")});return b.replace(k,function(b,k,m,p,r,w){b=k?g.render_tags(k,d,e,!0):"";w=w?g.render(w,d,e,!0):"";var z;p=g.find(p,d);"^"===m?z=!p||
Array.isArray(p)&&0===p.length?g.render(r,d,e,!0):"":"#"===m&&(z=Array.isArray(p)?g.map(p,function(b){return g.render(r,g.create_context(b),e,!0)}).join(""):g.is_object(p)?g.render(r,g.create_context(p),e,!0):"function"==typeof p?p.call(d,r,function(b){return g.render(b,d,e,!0)}):p?g.render(r,d,e,!0):"");return b+z+w})},render_tags:function(d,e,g,k){var m=this,p=function(){return m.getCachedRegex("render_tags",function(b,d){return new RegExp(b+"(=|!|>|&|\\{|%)?([^#\\^]+?)\\1?"+d+"+","g")})},r=p(),
z=function(d,k,u){switch(k){case "!":return"";case "=":return m.set_delimiters(u),r=p(),"";case ">":return m.render_partial(u,e,g);case "{":case "&":return m.find(u,e);default:return b(m.find(u,e))}};d=d.split("\n");for(var H=0;H<d.length;H++)d[H]=d[H].replace(r,z,this),k||this.send(d[H]);if(k)return d.join("\n")},set_delimiters:function(b){b=b.split(" ");this.otag=this.escape_regex(b[0]);this.ctag=this.escape_regex(b[1])},escape_regex:function(b){arguments.callee.sRE||(arguments.callee.sRE=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)",
"g"));return b.replace(arguments.callee.sRE,"\\$1")},find:function(b,d){function e(b){return!1===b||0===b||b}b=k(b);var g;if(b.match(/([a-z_]+)\./ig)){var m=this.walk_context(b,d);e(m)&&(g=m)}else e(d[b])?g=d[b]:e(this.context[b])&&(g=this.context[b]);return"function"==typeof g?g.apply(d):void 0!==g?g:""},walk_context:function(b,d){for(var e=b.split("."),g=void 0!=d[e[0]]?d:this.context,k=g[e.shift()];void 0!=k&&0<e.length;)g=k,k=k[e.shift()];return"function"==typeof k?k.apply(g):k},includes:function(b,
d){return-1!=d.indexOf(this.otag+b)},create_context:function(b){if(this.is_object(b))return b;var d=".";this.pragmas["IMPLICIT-ITERATOR"]&&(d=this.pragmas["IMPLICIT-ITERATOR"].iterator);var e={};e[d]=b;return e},is_object:function(b){return b&&"object"==typeof b},map:function(b,d){if("function"==typeof b.map)return b.map(d);for(var e=[],g=b.length,k=0;k<g;k++)e.push(d(b[k]));return e},getCachedRegex:function(b,d){var e=z[this.otag];e||(e=z[this.otag]={});var g=e[this.ctag];g||(g=e[this.ctag]={});
(e=g[b])||(e=g[b]=d(this.otag,this.ctag));return e}};return{name:"mustache.js",version:"0.5.0-dev",to_html:function(b,e,g,k){var m=new d;k&&(m.send=k);m.render(b,e||{},g,!1);if(!k)return m.buffer.join("\n")}}}();goog.string={};goog.string.Unicode={};goog.string.subs=function(b,d){for(var e=b.split("%s"),g="",k=Array.prototype.slice.call(arguments,1);k.length&&1<e.length;)g+=e.shift()+k.shift();return g+e.join("%s")};goog.debug={};goog.debug.Error=function(b){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var d=Error().stack;d&&(this.stack=d)}b&&(this.message=String(b));this.reportErrorToServer=!0};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.dom={};goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(b,d){d.unshift(b);goog.debug.Error.call(this,goog.string.subs.apply(null,d));d.shift();this.messagePattern=b};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.DEFAULT_ERROR_HANDLER=function(b){throw b;};goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER;
goog.asserts.doAssertFailure_=function(b,d,e,g){var k="Assertion failed";if(e)var k=k+(": "+e),m=g;else b&&(k+=": "+b,m=d);b=new goog.asserts.AssertionError(""+k,m||[]);goog.asserts.errorHandler_(b)};goog.asserts.setErrorHandler=function(b){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=b)};goog.asserts.assert=function(b,d,e){goog.asserts.ENABLE_ASSERTS&&!b&&goog.asserts.doAssertFailure_("",null,d,Array.prototype.slice.call(arguments,2));return b};
goog.asserts.fail=function(b,d){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(b?": "+b:""),Array.prototype.slice.call(arguments,1)))};goog.asserts.assertNumber=function(b,d,e){goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(b)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(b),b],d,Array.prototype.slice.call(arguments,2));return b};
goog.asserts.assertString=function(b,d,e){goog.asserts.ENABLE_ASSERTS&&!goog.isString(b)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(b),b],d,Array.prototype.slice.call(arguments,2));return b};goog.asserts.assertFunction=function(b,d,e){goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(b)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(b),b],d,Array.prototype.slice.call(arguments,2));return b};
goog.asserts.assertObject=function(b,d,e){goog.asserts.ENABLE_ASSERTS&&!goog.isObject(b)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(b),b],d,Array.prototype.slice.call(arguments,2));return b};goog.asserts.assertArray=function(b,d,e){goog.asserts.ENABLE_ASSERTS&&!goog.isArray(b)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(b),b],d,Array.prototype.slice.call(arguments,2));return b};
goog.asserts.assertBoolean=function(b,d,e){goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(b)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(b),b],d,Array.prototype.slice.call(arguments,2));return b};goog.asserts.assertElement=function(b,d,e){!goog.asserts.ENABLE_ASSERTS||goog.isObject(b)&&b.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(b),b],d,Array.prototype.slice.call(arguments,2));return b};
goog.asserts.assertInstanceof=function(b,d,e,g){!goog.asserts.ENABLE_ASSERTS||b instanceof d||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(d),goog.asserts.getType_(b)],e,Array.prototype.slice.call(arguments,3));return b};goog.asserts.assertObjectPrototypeIsIntact=function(){for(var b in Object.prototype)goog.asserts.fail(b+" should not be enumerable in Object.prototype.")};
goog.asserts.getType_=function(b){return b instanceof Function?b.displayName||b.name||"unknown type name":b instanceof Object?b.constructor.displayName||b.constructor.name||Object.prototype.toString.call(b):null===b?"null":typeof b};goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE;goog.array.ASSUME_NATIVE_FUNCTIONS=!1;goog.array.peek=function(b){return b[b.length-1]};goog.array.last=goog.array.peek;goog.array.ARRAY_PROTOTYPE_=Array.prototype;
goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.indexOf)?function(b,d,e){goog.asserts.assert(null!=b.length);return goog.array.ARRAY_PROTOTYPE_.indexOf.call(b,d,e)}:function(b,d,e){e=null==e?0:0>e?Math.max(0,b.length+e):e;if(goog.isString(b))return goog.isString(d)&&1==d.length?b.indexOf(d,e):-1;for(;e<b.length;e++)if(e in b&&b[e]===d)return e;return-1};
goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.lastIndexOf)?function(b,d,e){goog.asserts.assert(null!=b.length);return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(b,d,null==e?b.length-1:e)}:function(b,d,e){e=null==e?b.length-1:e;0>e&&(e=Math.max(0,b.length+e));if(goog.isString(b))return goog.isString(d)&&1==d.length?b.lastIndexOf(d,e):-1;for(;0<=e;e--)if(e in b&&b[e]===d)return e;return-1};
goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.forEach)?function(b,d,e){goog.asserts.assert(null!=b.length);goog.array.ARRAY_PROTOTYPE_.forEach.call(b,d,e)}:function(b,d,e){for(var g=b.length,k=goog.isString(b)?b.split(""):b,m=0;m<g;m++)m in k&&d.call(e,k[m],m,b)};goog.array.forEachRight=function(b,d,e){for(var g=b.length,k=goog.isString(b)?b.split(""):b,g=g-1;0<=g;--g)g in k&&d.call(e,k[g],g,b)};
goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.filter)?function(b,d,e){goog.asserts.assert(null!=b.length);return goog.array.ARRAY_PROTOTYPE_.filter.call(b,d,e)}:function(b,d,e){for(var g=b.length,k=[],m=0,r=goog.isString(b)?b.split(""):b,p=0;p<g;p++)if(p in r){var z=r[p];d.call(e,z,p,b)&&(k[m++]=z)}return k};
goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.map)?function(b,d,e){goog.asserts.assert(null!=b.length);return goog.array.ARRAY_PROTOTYPE_.map.call(b,d,e)}:function(b,d,e){for(var g=b.length,k=Array(g),m=goog.isString(b)?b.split(""):b,r=0;r<g;r++)r in m&&(k[r]=d.call(e,m[r],r,b));return k};
goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduce)?function(b,d,e,g){goog.asserts.assert(null!=b.length);g&&(d=goog.bind(d,g));return goog.array.ARRAY_PROTOTYPE_.reduce.call(b,d,e)}:function(b,d,e,g){var k=e;goog.array.forEach(b,function(e,r){k=d.call(g,k,e,r,b)});return k};
goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduceRight)?function(b,d,e,g){goog.asserts.assert(null!=b.length);g&&(d=goog.bind(d,g));return goog.array.ARRAY_PROTOTYPE_.reduceRight.call(b,d,e)}:function(b,d,e,g){var k=e;goog.array.forEachRight(b,function(e,r){k=d.call(g,k,e,r,b)});return k};
goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.some)?function(b,d,e){goog.asserts.assert(null!=b.length);return goog.array.ARRAY_PROTOTYPE_.some.call(b,d,e)}:function(b,d,e){for(var g=b.length,k=goog.isString(b)?b.split(""):b,m=0;m<g;m++)if(m in k&&d.call(e,k[m],m,b))return!0;return!1};
goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.every)?function(b,d,e){goog.asserts.assert(null!=b.length);return goog.array.ARRAY_PROTOTYPE_.every.call(b,d,e)}:function(b,d,e){for(var g=b.length,k=goog.isString(b)?b.split(""):b,m=0;m<g;m++)if(m in k&&!d.call(e,k[m],m,b))return!1;return!0};goog.array.count=function(b,d,e){var g=0;goog.array.forEach(b,function(b,m,r){d.call(e,b,m,r)&&++g},e);return g};
goog.array.find=function(b,d,e){d=goog.array.findIndex(b,d,e);return 0>d?null:goog.isString(b)?b.charAt(d):b[d]};goog.array.findIndex=function(b,d,e){for(var g=b.length,k=goog.isString(b)?b.split(""):b,m=0;m<g;m++)if(m in k&&d.call(e,k[m],m,b))return m;return-1};goog.array.findRight=function(b,d,e){d=goog.array.findIndexRight(b,d,e);return 0>d?null:goog.isString(b)?b.charAt(d):b[d]};
goog.array.findIndexRight=function(b,d,e){for(var g=b.length,k=goog.isString(b)?b.split(""):b,g=g-1;0<=g;g--)if(g in k&&d.call(e,k[g],g,b))return g;return-1};goog.array.contains=function(b,d){return 0<=goog.array.indexOf(b,d)};goog.array.isEmpty=function(b){return 0==b.length};goog.array.clear=function(b){if(!goog.isArray(b))for(var d=b.length-1;0<=d;d--)delete b[d];b.length=0};goog.array.insert=function(b,d){goog.array.contains(b,d)||b.push(d)};
goog.array.insertAt=function(b,d,e){goog.array.splice(b,e,0,d)};goog.array.insertArrayAt=function(b,d,e){goog.partial(goog.array.splice,b,e,0).apply(null,d)};goog.array.insertBefore=function(b,d,e){var g;2==arguments.length||0>(g=goog.array.indexOf(b,e))?b.push(d):goog.array.insertAt(b,d,g)};goog.array.remove=function(b,d){var e=goog.array.indexOf(b,d),g;(g=0<=e)&&goog.array.removeAt(b,e);return g};
goog.array.removeAt=function(b,d){goog.asserts.assert(null!=b.length);return 1==goog.array.ARRAY_PROTOTYPE_.splice.call(b,d,1).length};goog.array.removeIf=function(b,d,e){d=goog.array.findIndex(b,d,e);return 0<=d?(goog.array.removeAt(b,d),!0):!1};goog.array.removeAllIf=function(b,d,e){var g=0;goog.array.forEachRight(b,function(k,m){d.call(e,k,m,b)&&goog.array.removeAt(b,m)&&g++});return g};goog.array.concat=function(b){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};
goog.array.join=function(b){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};goog.array.toArray=function(b){var d=b.length;if(0<d){for(var e=Array(d),g=0;g<d;g++)e[g]=b[g];return e}return[]};goog.array.clone=goog.array.toArray;goog.array.extend=function(b,d){for(var e=1;e<arguments.length;e++){var g=arguments[e];if(goog.isArrayLike(g)){var k=b.length||0,m=g.length||0;b.length=k+m;for(var r=0;r<m;r++)b[k+r]=g[r]}else b.push(g)}};
goog.array.splice=function(b,d,e,g){goog.asserts.assert(null!=b.length);return goog.array.ARRAY_PROTOTYPE_.splice.apply(b,goog.array.slice(arguments,1))};goog.array.slice=function(b,d,e){goog.asserts.assert(null!=b.length);return 2>=arguments.length?goog.array.ARRAY_PROTOTYPE_.slice.call(b,d):goog.array.ARRAY_PROTOTYPE_.slice.call(b,d,e)};
goog.array.removeDuplicates=function(b,d,e){d=d||b;var g=function(b){return goog.isObject(r)?"o"+goog.getUid(r):(typeof r).charAt(0)+r};e=e||g;for(var g={},k=0,m=0;m<b.length;){var r=b[m++],p=e(r);Object.prototype.hasOwnProperty.call(g,p)||(g[p]=!0,d[k++]=r)}d.length=k};goog.array.binarySearch=function(b,d,e){return goog.array.binarySearch_(b,e||goog.array.defaultCompare,!1,d)};goog.array.binarySelect=function(b,d,e){return goog.array.binarySearch_(b,d,!0,void 0,e)};
goog.array.binarySearch_=function(b,d,e,g,k){for(var m=0,r=b.length,p;m<r;){var z=m+r>>1,w;w=e?d.call(k,b[z],z,b):d(g,b[z]);0<w?m=z+1:(r=z,p=!w)}return p?m:~m};goog.array.sort=function(b,d){b.sort(d||goog.array.defaultCompare)};goog.array.stableSort=function(b,d){for(var e=0;e<b.length;e++)b[e]={index:e,value:b[e]};var g=d||goog.array.defaultCompare;goog.array.sort(b,function(b,d){return g(b.value,d.value)||b.index-d.index});for(e=0;e<b.length;e++)b[e]=b[e].value};
goog.array.sortByKey=function(b,d,e){var g=e||goog.array.defaultCompare;goog.array.sort(b,function(b,e){return g(d(b),d(e))})};goog.array.sortObjectsByKey=function(b,d,e){goog.array.sortByKey(b,function(b){return b[d]},e)};goog.array.isSorted=function(b,d,e){d=d||goog.array.defaultCompare;for(var g=1;g<b.length;g++){var k=d(b[g-1],b[g]);if(0<k||0==k&&e)return!1}return!0};
goog.array.equals=function(b,d,e){if(!goog.isArrayLike(b)||!goog.isArrayLike(d)||b.length!=d.length)return!1;var g=b.length;e=e||goog.array.defaultCompareEquality;for(var k=0;k<g;k++)if(!e(b[k],d[k]))return!1;return!0};goog.array.compare3=function(b,d,e){e=e||goog.array.defaultCompare;for(var g=Math.min(b.length,d.length),k=0;k<g;k++){var m=e(b[k],d[k]);if(0!=m)return m}return goog.array.defaultCompare(b.length,d.length)};goog.array.defaultCompare=function(b,d){return b>d?1:b<d?-1:0};
goog.array.inverseDefaultCompare=function(b,d){return-goog.array.defaultCompare(b,d)};goog.array.defaultCompareEquality=function(b,d){return b===d};goog.array.binaryInsert=function(b,d,e){e=goog.array.binarySearch(b,d,e);return 0>e?(goog.array.insertAt(b,d,-(e+1)),!0):!1};goog.array.binaryRemove=function(b,d,e){d=goog.array.binarySearch(b,d,e);return 0<=d?goog.array.removeAt(b,d):!1};
goog.array.bucket=function(b,d,e){for(var g={},k=0;k<b.length;k++){var m=b[k],r=d.call(e,m,k,b);goog.isDef(r)&&(g[r]||(g[r]=[])).push(m)}return g};goog.array.toObject=function(b,d,e){var g={};goog.array.forEach(b,function(k,m){g[d.call(e,k,m,b)]=k});return g};goog.array.range=function(b,d,e){var g=[],k=0,m=b;e=e||1;void 0!==d&&(k=b,m=d);if(0>e*(m-k))return[];if(0<e)for(b=k;b<m;b+=e)g.push(b);else for(b=k;b>m;b+=e)g.push(b);return g};
goog.array.repeat=function(b,d){for(var e=[],g=0;g<d;g++)e[g]=b;return e};goog.array.flatten=function(b){for(var d=[],e=0;e<arguments.length;e++){var g=arguments[e];if(goog.isArray(g))for(var k=0;k<g.length;k+=8192)for(var m=goog.array.slice(g,k,k+8192),m=goog.array.flatten.apply(null,m),r=0;r<m.length;r++)d.push(m[r]);else d.push(g)}return d};
goog.array.rotate=function(b,d){goog.asserts.assert(null!=b.length);b.length&&(d%=b.length,0<d?goog.array.ARRAY_PROTOTYPE_.unshift.apply(b,b.splice(-d,d)):0>d&&goog.array.ARRAY_PROTOTYPE_.push.apply(b,b.splice(0,-d)));return b};goog.array.moveItem=function(b,d,e){goog.asserts.assert(0<=d&&d<b.length);goog.asserts.assert(0<=e&&e<b.length);d=goog.array.ARRAY_PROTOTYPE_.splice.call(b,d,1);goog.array.ARRAY_PROTOTYPE_.splice.call(b,e,0,d[0])};
goog.array.zip=function(b){if(!arguments.length)return[];for(var d=[],e=0;;e++){for(var g=[],k=0;k<arguments.length;k++){var m=arguments[k];if(e>=m.length)return d;g.push(m[e])}d.push(g)}};goog.array.shuffle=function(b,d){for(var e=d||Math.random,g=b.length-1;0<g;g--){var k=Math.floor(e()*(g+1)),m=b[g];b[g]=b[k];b[k]=m}};goog.array.copyByIndex=function(b,d){var e=[];goog.array.forEach(d,function(d){e.push(b[d])});return e};glslunit.ASTVisitor=function(){};glslunit.ASTVisitor.prototype.getBeforeVisitFunction=function(b){return this["beforeVisit"+glslunit.utils.getFunctionSuffix(b.type)]};glslunit.ASTVisitor.prototype.getAfterVisitFunction=function(b){return this["afterVisit"+glslunit.utils.getFunctionSuffix(b.type)]};glslunit.ASTVisitor.prototype.getVisitFunction=function(b){return this["visit"+glslunit.utils.getFunctionSuffix(b.type)]};
glslunit.ASTVisitor.prototype.visitNode=function(b){if(b&&b.type){var d=this.getBeforeVisitFunction(b);d&&d.apply(this,[b]);(d=this.getVisitFunction(b))?d.apply(this,[b]):this.genericVisitor(b);(d=this.getAfterVisitFunction(b))&&d.apply(this,[b])}};glslunit.ASTVisitor.prototype.visitList=function(b){goog.array.forEach(b,function(b){this.visitNode(b)},this)};
glslunit.ASTVisitor.prototype.genericVisitor=function(b){for(var d in b){var e=b[d];goog.isArray(e)?this.visitList(e):goog.isObject(e)&&e.type&&this.visitNode(e)}};glslunit.Generator=function(b,d){glslunit.ASTVisitor.call(this);this.newline_str_=b||"\n";this.debug_=!!d;this.sourceCode_="";this.currentIndent_=0};goog.inherits(glslunit.Generator,glslunit.ASTVisitor);goog.exportSymbol("glslunit.Generator",glslunit.Generator);glslunit.Generator.INDENT_STR_="  ";glslunit.Generator.EvaluationOrder_={LTR:0,RTL:1,NA:2};
glslunit.Generator.OperationEvaluation_=function(b,d,e,g){this.precedence=b;this.evaluationOrder=d||glslunit.Generator.EvaluationOrder_.LTR;this.associative=!!e;this.maxOperands=g||2};
glslunit.Generator.ORDER_OF_OPERATIONS_={function_call:new glslunit.Generator.OperationEvaluation_(0,glslunit.Generator.EvaluationOrder_.NA),identifier:new glslunit.Generator.OperationEvaluation_(0,glslunit.Generator.EvaluationOrder_.NA),"float":new glslunit.Generator.OperationEvaluation_(0,glslunit.Generator.EvaluationOrder_.NA),"int":new glslunit.Generator.OperationEvaluation_(0,glslunit.Generator.EvaluationOrder_.NA),bool:new glslunit.Generator.OperationEvaluation_(0,glslunit.Generator.EvaluationOrder_.NA),
postfix:new glslunit.Generator.OperationEvaluation_(1,glslunit.Generator.EvaluationOrder_.LTR,!1,1),unary:new glslunit.Generator.OperationEvaluation_(2,glslunit.Generator.EvaluationOrder_.RTL,!1,1),"*":new glslunit.Generator.OperationEvaluation_(3,glslunit.Generator.EvaluationOrder_.LTR,!0),"/":new glslunit.Generator.OperationEvaluation_(3),"%":new glslunit.Generator.OperationEvaluation_(3),"+":new glslunit.Generator.OperationEvaluation_(4,glslunit.Generator.EvaluationOrder_.LTR,!0),"-":new glslunit.Generator.OperationEvaluation_(4),
"<<":new glslunit.Generator.OperationEvaluation_(5),">>":new glslunit.Generator.OperationEvaluation_(5),"<":new glslunit.Generator.OperationEvaluation_(6),">":new glslunit.Generator.OperationEvaluation_(6),"<=":new glslunit.Generator.OperationEvaluation_(6),">=":new glslunit.Generator.OperationEvaluation_(6),"==":new glslunit.Generator.OperationEvaluation_(7),"!=":new glslunit.Generator.OperationEvaluation_(7),"&":new glslunit.Generator.OperationEvaluation_(8,glslunit.Generator.EvaluationOrder_.LTR,
!0),"^":new glslunit.Generator.OperationEvaluation_(9,glslunit.Generator.EvaluationOrder_.LTR,!0),"|":new glslunit.Generator.OperationEvaluation_(10,glslunit.Generator.EvaluationOrder_.LTR,!0),"&&":new glslunit.Generator.OperationEvaluation_(11,glslunit.Generator.EvaluationOrder_.LTR,!0),"^^":new glslunit.Generator.OperationEvaluation_(12,glslunit.Generator.EvaluationOrder_.LTR,!0),"||":new glslunit.Generator.OperationEvaluation_(13,glslunit.Generator.EvaluationOrder_.LTR,!0),ternary:new glslunit.Generator.OperationEvaluation_(14,
glslunit.Generator.EvaluationOrder_.RTL,!1,3),"=":new glslunit.Generator.OperationEvaluation_(15),"-=":new glslunit.Generator.OperationEvaluation_(15),"+=":new glslunit.Generator.OperationEvaluation_(15),"*=":new glslunit.Generator.OperationEvaluation_(15),"/=":new glslunit.Generator.OperationEvaluation_(15),"%=":new glslunit.Generator.OperationEvaluation_(15),"<<=":new glslunit.Generator.OperationEvaluation_(15),">>=":new glslunit.Generator.OperationEvaluation_(15),"&=":new glslunit.Generator.OperationEvaluation_(15),
"^=":new glslunit.Generator.OperationEvaluation_(15),"|=":new glslunit.Generator.OperationEvaluation_(15)};glslunit.Generator.getNodePrecedence_=function(b){return glslunit.Generator.ORDER_OF_OPERATIONS_[glslunit.Generator.getNodeOperator_(b)]};glslunit.Generator.getNodeOperator_=function(b){return"binary"==b.type?b.operator.operator:b.type};glslunit.Generator.getSourceCode=function(b,d,e){d=new glslunit.Generator(d,e);d.visitNode(b);return d.sourceCode_};
glslunit.Generator.prototype.checkAndAdd=function(b,d,e){return d?b+d+e:""};glslunit.Generator.prototype.addNodesWithJoin_=function(b,d){for(var e=0;e<b.length;e++)0!=e&&(this.sourceCode_+=d),this.visitNode(b[e])};glslunit.Generator.prototype.maybePrintNewline_=function(){this.debug_&&(this.sourceCode_+=this.newline_str_+Array(this.currentIndent_+1).join(glslunit.Generator.INDENT_STR_))};
glslunit.Generator.prototype.maybeUnindent_=function(){this.debug_&&this.sourceCode_.slice(-1*glslunit.Generator.INDENT_STR_.length)==glslunit.Generator.INDENT_STR_&&(this.sourceCode_=this.sourceCode_.slice(0,-1*glslunit.Generator.INDENT_STR_.length))};
glslunit.Generator.prototype.visitStructDefinition=function(b){this.sourceCode_+=this.checkAndAdd("",b.qualifier," ");this.sourceCode_+="struct";this.sourceCode_+=this.checkAndAdd(" ",b.name,"");this.sourceCode_+="{";this.currentIndent_++;this.addNodesWithJoin_(b.members,"");this.currentIndent_--;this.maybeUnindent_();this.sourceCode_+="}";b.declarators&&this.addNodesWithJoin_(b.declarators,",");this.sourceCode_+=";";this.maybePrintNewline_()};
goog.exportProperty(glslunit.Generator.prototype,"visitStructDefinition",glslunit.Generator.prototype.visitStructDefinition);glslunit.Generator.prototype.visitScope=function(b){this.sourceCode_+="{";this.currentIndent_++;this.maybePrintNewline_();this.addNodesWithJoin_(b.statements,"");this.currentIndent_--;this.maybeUnindent_();this.sourceCode_+="}";this.maybePrintNewline_()};goog.exportProperty(glslunit.Generator.prototype,"visitScope",glslunit.Generator.prototype.visitScope);
glslunit.Generator.prototype.visitPrecision=function(b){this.sourceCode_+="precision "+b.precision+" "+b.typeName+";";this.maybePrintNewline_()};goog.exportProperty(glslunit.Generator.prototype,"visitPrecision",glslunit.Generator.prototype.visitPrecision);glslunit.Generator.prototype.visitInvariant=function(b){this.sourceCode_+="invariant ";this.addNodesWithJoin_(b.identifiers,",");this.sourceCode_+=";";this.maybePrintNewline_()};goog.exportProperty(glslunit.Generator.prototype,"visitInvariant",glslunit.Generator.prototype.visitInvariant);
glslunit.Generator.prototype.visitParameter=function(b){this.sourceCode_+=this.checkAndAdd("",b.typeQualifier," ");this.sourceCode_+=this.checkAndAdd("",b.parameterQualifier," ");this.sourceCode_+=this.checkAndAdd("",b.precision," ");this.sourceCode_+=b.type_name+" "+b.name;b.arraySize&&(this.sourceCode_+="[",this.visitNode(b.arraySize),this.sourceCode_+="]")};goog.exportProperty(glslunit.Generator.prototype,"visitParameter",glslunit.Generator.prototype.visitParameter);
glslunit.Generator.prototype.generateFunctionPrototype_=function(b){this.visitNode(b.returnType);this.sourceCode_+=" "+b.name+"(";this.addNodesWithJoin_(b.parameters,",");this.sourceCode_+=")"};glslunit.Generator.prototype.visitFunctionPrototype=function(b){this.generateFunctionPrototype_(b);this.sourceCode_+=";";this.maybePrintNewline_()};goog.exportProperty(glslunit.Generator.prototype,"visitFunctionPrototype",glslunit.Generator.prototype.visitFunctionPrototype);
glslunit.Generator.prototype.visitFunctionDeclaration=function(b){this.generateFunctionPrototype_(b);this.visitNode(b.body)};goog.exportProperty(glslunit.Generator.prototype,"visitFunctionDeclaration",glslunit.Generator.prototype.visitFunctionDeclaration);
glslunit.Generator.prototype.visitPreprocessor=function(b){var d=this.sourceCode_.slice(-1*this.newline_str_.length);d&&d!=this.newline_str_&&(this.sourceCode_+=this.newline_str_);this.sourceCode_+=b.directive;"#define"==b.directive?(this.sourceCode_+=" "+b.identifier,b.parameters&&(this.sourceCode_+="(",this.addNodesWithJoin_(b.parameters,","),this.sourceCode_+=")"),this.sourceCode_+=this.checkAndAdd(" ",b.token_string,"")):this.sourceCode_+=this.checkAndAdd(" ",b.value,"");this.sourceCode_+=this.newline_str_;
b.guarded_statements&&(this.addNodesWithJoin_(b.guarded_statements,""),b.elseBody&&this.visitNode(b.elseBody),"#if"==b.directive.slice(0,3)&&(d=this.sourceCode_.slice(-1*this.newline_str_.length),d!=this.newline_str_&&(this.sourceCode_+=this.newline_str_),this.sourceCode_+="#endif"+this.newline_str_))};goog.exportProperty(glslunit.Generator.prototype,"visitPreprocessor",glslunit.Generator.prototype.visitPreprocessor);
glslunit.Generator.prototype.generateWhile_=function(b){this.sourceCode_+="while(";this.visitNode(b.condition);this.sourceCode_+=")"};glslunit.Generator.prototype.visitDoStatement=function(b){this.sourceCode_+="do";"scope"!=b.body.type&&(this.sourceCode_+=" ");this.visitNode(b.body);this.generateWhile_(b)};goog.exportProperty(glslunit.Generator.prototype,"visitDoStatement",glslunit.Generator.prototype.visitDoStatement);
glslunit.Generator.prototype.visitWhileStatement=function(b){this.generateWhile_(b);this.visitNode(b.body)};goog.exportProperty(glslunit.Generator.prototype,"visitWhileStatement",glslunit.Generator.prototype.visitWhileStatement);glslunit.Generator.prototype.visitForStatement=function(b){this.sourceCode_+="for(";this.visitNode(b.initializer);this.visitNode(b.condition);this.sourceCode_+=";";this.visitNode(b.increment);this.sourceCode_+=")";this.visitNode(b.body)};
goog.exportProperty(glslunit.Generator.prototype,"visitForStatement",glslunit.Generator.prototype.visitForStatement);glslunit.Generator.prototype.visitIfStatement=function(b){this.sourceCode_+="if(";this.visitNode(b.condition);this.sourceCode_+=")";this.visitNode(b.body);b.elseBody&&(this.sourceCode_+="else","scope"!=b.elseBody.type&&(this.sourceCode_+=" "),this.visitNode(b.elseBody))};goog.exportProperty(glslunit.Generator.prototype,"visitIfStatement",glslunit.Generator.prototype.visitIfStatement);
glslunit.Generator.prototype.visitDeclaratorItem=function(b){this.visitNode(b.name);b.isArray&&(this.sourceCode_+="[",b.arraySize&&this.visitNode(b.arraySize),this.sourceCode_+="]");b.initializer&&(this.sourceCode_+="=",this.visitNode(b.initializer))};goog.exportProperty(glslunit.Generator.prototype,"visitDeclaratorItem",glslunit.Generator.prototype.visitDeclaratorItem);
glslunit.Generator.prototype.visitDeclarator=function(b){this.visitNode(b.typeAttribute);this.sourceCode_+=" ";this.addNodesWithJoin_(b.declarators,",");this.sourceCode_+=";";this.maybePrintNewline_()};goog.exportProperty(glslunit.Generator.prototype,"visitDeclarator",glslunit.Generator.prototype.visitDeclarator);glslunit.Generator.prototype.visitType=function(b){this.sourceCode_+=this.checkAndAdd("",b.qualifier," ");this.sourceCode_+=this.checkAndAdd("",b.precision," ");this.sourceCode_+=b.name};
goog.exportProperty(glslunit.Generator.prototype,"visitType",glslunit.Generator.prototype.visitType);glslunit.Generator.prototype.visitExpression=function(b){this.visitNode(b.expression);this.sourceCode_+=";";this.maybePrintNewline_()};goog.exportProperty(glslunit.Generator.prototype,"visitExpression",glslunit.Generator.prototype.visitExpression);
glslunit.Generator.prototype.visitJump=function(b){this.sourceCode_+=b.type;b.value&&(this.sourceCode_+=" ",this.visitNode(b.value));this.sourceCode_+=";";this.maybePrintNewline_()};goog.exportProperty(glslunit.Generator.prototype,"visitJump",glslunit.Generator.prototype.visitJump);glslunit.Generator.prototype.visitReturn=glslunit.Generator.prototype.visitJump;goog.exportProperty(glslunit.Generator.prototype,"visitReturn",glslunit.Generator.prototype.visitReturn);
glslunit.Generator.prototype.visitBreak=glslunit.Generator.prototype.visitJump;goog.exportProperty(glslunit.Generator.prototype,"visitBreak",glslunit.Generator.prototype.visitBreak);glslunit.Generator.prototype.visitDiscard=glslunit.Generator.prototype.visitJump;goog.exportProperty(glslunit.Generator.prototype,"visitDiscard",glslunit.Generator.prototype.visitDiscard);glslunit.Generator.prototype.visitContinue=glslunit.Generator.prototype.visitJump;
goog.exportProperty(glslunit.Generator.prototype,"visitContinue",glslunit.Generator.prototype.visitContinue);glslunit.Generator.prototype.visitUnary=function(b){this.sourceCode_.slice(-1)==b.operator.operator&&(this.sourceCode_+=" ");this.visitNode(b.operator);this.maybeParenthizeNode_(b.expression,b,0)};goog.exportProperty(glslunit.Generator.prototype,"visitUnary",glslunit.Generator.prototype.visitUnary);
glslunit.Generator.prototype.visitPostfix=function(b){this.maybeParenthizeNode_(b.expression,b,0);this.visitNode(b.operator)};goog.exportProperty(glslunit.Generator.prototype,"visitPostfix",glslunit.Generator.prototype.visitPostfix);glslunit.Generator.prototype.visitOperator=function(b){this.sourceCode_+=b.operator};goog.exportProperty(glslunit.Generator.prototype,"visitOperator",glslunit.Generator.prototype.visitOperator);
glslunit.Generator.prototype.visitFieldSelector=function(b){this.sourceCode_+="."+b.selection};goog.exportProperty(glslunit.Generator.prototype,"visitFieldSelector",glslunit.Generator.prototype.visitFieldSelector);glslunit.Generator.prototype.visitAccessor=function(b){this.sourceCode_+="[";this.visitNode(b.index);this.sourceCode_+="]"};goog.exportProperty(glslunit.Generator.prototype,"visitAccessor",glslunit.Generator.prototype.visitAccessor);
glslunit.Generator.prototype.visitFunctionCall=function(b){this.sourceCode_+=b.function_name+"(";this.addNodesWithJoin_(b.parameters,",");this.sourceCode_+=")"};goog.exportProperty(glslunit.Generator.prototype,"visitFunctionCall",glslunit.Generator.prototype.visitFunctionCall);glslunit.Generator.prototype.visitIdentifier=function(b){this.sourceCode_+=b.name};goog.exportProperty(glslunit.Generator.prototype,"visitIdentifier",glslunit.Generator.prototype.visitIdentifier);
glslunit.Generator.formatFloat=function(b){if(0==b)return"0.";var d=function(b){return b.toLowerCase().replace(/^0*|\+/g,"").replace(/(?:(\.[1-9]+)|\.)0*e/g,"$1e")},e=d(""+b);b=d(b.toExponential());-1==e.indexOf(".")&&-1==e.indexOf("e")&&(e+=".");return e.length<=b.length?e:b};glslunit.Generator.formatInt=function(b){var d=b.toString(10);b=(0>b?"-":"")+"0x"+Math.abs(b).toString(16).toLowerCase();return d.length<=b.length?d:b};glslunit.Generator.prototype.visitFloat=function(b){this.sourceCode_+=glslunit.Generator.formatFloat(b.value)};
goog.exportProperty(glslunit.Generator.prototype,"visitFloat",glslunit.Generator.prototype.visitFloat);glslunit.Generator.prototype.visitValue=function(b){this.sourceCode_+=b.value};goog.exportProperty(glslunit.Generator.prototype,"visitValue",glslunit.Generator.prototype.visitValue);glslunit.Generator.prototype.visitInt=function(b){this.sourceCode_+=glslunit.Generator.formatInt(b.value)};goog.exportProperty(glslunit.Generator.prototype,"visitInt",glslunit.Generator.prototype.visitInt);
glslunit.Generator.prototype.visitBool=glslunit.Generator.prototype.visitValue;goog.exportProperty(glslunit.Generator.prototype,"visitBool",glslunit.Generator.prototype.visitBool);glslunit.Generator.prototype.visitBinary=function(b){this.maybeParenthizeNode_(b.left,b,0);this.visitNode(b.operator);this.maybeParenthizeNode_(b.right,b,1)};goog.exportProperty(glslunit.Generator.prototype,"visitBinary",glslunit.Generator.prototype.visitBinary);
glslunit.Generator.prototype.visitTernary=function(b){this.maybeParenthizeNode_(b.condition,b,0);this.sourceCode_+="?";this.maybeParenthizeNode_(b.is_true,b,1);this.sourceCode_+=":";this.maybeParenthizeNode_(b.is_false,b,2)};goog.exportProperty(glslunit.Generator.prototype,"visitTernary",glslunit.Generator.prototype.visitTernary);
glslunit.Generator.prototype.maybeParenthizeNode_=function(b,d,e){var g=glslunit.Generator.getNodePrecedence_(b),k=glslunit.Generator.getNodePrecedence_(d),m=!1;g.precedence>k.precedence?m=!0:g.precedence==k.precedence?(glslunit.Generator.getNodeOperator_(b),glslunit.Generator.getNodeOperator_(d),m=k.evaluationOrder==glslunit.Generator.EvaluationOrder_.LTR&&0==e||k.evaluationOrder==glslunit.Generator.EvaluationOrder_.RTL&&e==k.maxOperands-1?!1:!0):m=!1;m&&(this.sourceCode_+="(");this.visitNode(b);
m&&(this.sourceCode_+=")")};glslunit.VariableScopeVisitor=function(b,d){glslunit.ASTVisitor.call(this);this.targetScope_=b||null;this.promoteIfdefVars_=!!d;this.variablesInScope_={};this.stackFrames_=[];this.currentFrame_=[];this.scopeIdToFrame_={};this.scopeParameters_=[]};goog.inherits(glslunit.VariableScopeVisitor,glslunit.ASTVisitor);goog.exportSymbol("glslunit.VariableScopeVisitor",glslunit.VariableScopeVisitor);
glslunit.VariableScopeVisitor.prototype.getCurrentScopeVariables=function(){var b=this.stackFrames_.concat([this.currentFrame_]),d={};goog.array.forEachRight(b,function(b){goog.array.forEach(b,function(b){"declarator"==b.type?goog.array.forEach(b.declarators,function(e){goog.isDef(d[e.name.name])||(d[e.name.name]=b)},this):"parameter"==b.type&&(d[b.name]=b)},this)},this);return d};
glslunit.VariableScopeVisitor.prototype.beforeVisitScope=function(b){this.stackFrames_.push(this.currentFrame_);this.currentFrame_=[];[].push.apply(this.currentFrame_,this.scopeParameters_);this.scopeParameters_=[]};goog.exportProperty(glslunit.VariableScopeVisitor.prototype,"beforeVisitScope",glslunit.VariableScopeVisitor.prototype.beforeVisitScope);
glslunit.VariableScopeVisitor.prototype.afterVisitScope=function(b){this.scopeIdToFrame_[b.id]=this.currentFrame_;b==this.targetScope_&&(this.variablesInScope_=this.getCurrentScopeVariables());this.currentFrame_=this.stackFrames_.pop()};goog.exportProperty(glslunit.VariableScopeVisitor.prototype,"afterVisitScope",glslunit.VariableScopeVisitor.prototype.afterVisitScope);glslunit.VariableScopeVisitor.prototype.beforeVisitRoot=glslunit.VariableScopeVisitor.prototype.beforeVisitScope;
goog.exportProperty(glslunit.VariableScopeVisitor.prototype,"beforeVisitRoot",glslunit.VariableScopeVisitor.prototype.beforeVisitRoot);glslunit.VariableScopeVisitor.prototype.afterVisitPreprocessor=function(b){this.promoteIfdefVars_||this.afterVisitScope(b)};goog.exportProperty(glslunit.VariableScopeVisitor.prototype,"afterVisitPreprocessor",glslunit.VariableScopeVisitor.prototype.afterVisitPreprocessor);
glslunit.VariableScopeVisitor.prototype.beforeVisitPreprocessor=function(b){this.promoteIfdefVars_||this.beforeVisitScope(b)};goog.exportProperty(glslunit.VariableScopeVisitor.prototype,"beforeVisitPreprocessor",glslunit.VariableScopeVisitor.prototype.beforeVisitPreprocessor);glslunit.VariableScopeVisitor.prototype.afterVisitRoot=glslunit.VariableScopeVisitor.prototype.afterVisitScope;goog.exportProperty(glslunit.VariableScopeVisitor.prototype,"afterVisitRoot",glslunit.VariableScopeVisitor.prototype.afterVisitRoot);
glslunit.VariableScopeVisitor.prototype.beforeVisitDeclarator=function(b){this.currentFrame_.push(b)};goog.exportProperty(glslunit.VariableScopeVisitor.prototype,"beforeVisitDeclarator",glslunit.VariableScopeVisitor.prototype.beforeVisitDeclarator);glslunit.VariableScopeVisitor.prototype.beforeVisitFunctionDeclaration=function(b){this.scopeParameters_=b.parameters};goog.exportProperty(glslunit.VariableScopeVisitor.prototype,"beforeVisitFunctionDeclaration",glslunit.VariableScopeVisitor.prototype.beforeVisitFunctionDeclaration);
glslunit.VariableScopeVisitor.prototype.afterVisitFunctionDeclaration=function(b){this.scopeParameters_=[]};goog.exportProperty(glslunit.VariableScopeVisitor.prototype,"afterVisitFunctionDeclaration",glslunit.VariableScopeVisitor.prototype.afterVisitFunctionDeclaration);glslunit.VariableScopeVisitor.getScopeToDeclarationMap=function(b){var d=new glslunit.VariableScopeVisitor;d.visitNode(b);return d.scopeIdToFrame_};goog.exportProperty(glslunit.VariableScopeVisitor,"getScopeToDeclarationMap",glslunit.VariableScopeVisitor.getScopeToDeclarationMap);
glslunit.VariableScopeVisitor.getVariablesInScope=function(b,d,e){d=new glslunit.VariableScopeVisitor(d,e);d.visitNode(b);return d.variablesInScope_};glslunit.NodeCollector=function(b){glslunit.ASTVisitor.call(this);this.collectedNodes_=[];this.nodeStack_=[];this.filterFunction_=b};goog.inherits(glslunit.NodeCollector,glslunit.ASTVisitor);glslunit.NodeCollector.prototype.maybeCollectNode_=function(b){this.filterFunction_(b,this.nodeStack_.slice(0,-1))&&this.collectedNodes_.push(b);this.genericVisitor(b)};glslunit.NodeCollector.prototype.getCollectedNodes=function(){return this.collectedNodes_};
glslunit.NodeCollector.prototype.getBeforeVisitFunction=function(b){return goog.bind(Array.prototype.push,this.nodeStack_)};glslunit.NodeCollector.prototype.getAfterVisitFunction=function(b){return goog.bind(Array.prototype.pop,this.nodeStack_)};glslunit.NodeCollector.prototype.getVisitFunction=function(b){return this.maybeCollectNode_};glslunit.NodeCollector.collectNodes=function(b,d){var e=new glslunit.NodeCollector(d);e.visitNode(b);return e.getCollectedNodes()};glslunit.CallGraphVisitor=function(){glslunit.ASTVisitor.call(this);this.callGraph_={};this.callGraph_[glslunit.CallGraphVisitor.ROOT_NAME]=[];this.currentFunctionName_=glslunit.CallGraphVisitor.ROOT_NAME};goog.inherits(glslunit.CallGraphVisitor,glslunit.ASTVisitor);glslunit.CallGraphVisitor.ROOT_NAME="#";glslunit.CallGraphVisitor.prototype.beforeVisitFunctionDeclaration=function(b){b.name in this.callGraph_||(this.callGraph_[b.name]=[]);this.currentFunctionName_=b.name};
goog.exportProperty(glslunit.CallGraphVisitor.prototype,"beforeVisitFunctionDeclaration",glslunit.CallGraphVisitor.prototype.beforeVisitFunctionDeclaration);glslunit.CallGraphVisitor.prototype.afterVisitFunctionDeclaration=function(b){this.currentFunctionName_=glslunit.CallGraphVisitor.ROOT_NAME};goog.exportProperty(glslunit.CallGraphVisitor.prototype,"afterVisitFunctionDeclaration",glslunit.CallGraphVisitor.prototype.afterVisitFunctionDeclaration);
glslunit.CallGraphVisitor.prototype.visitFunctionCall=function(b){this.callGraph_[this.currentFunctionName_].push(b.function_name);this.genericVisitor(b)};goog.exportProperty(glslunit.CallGraphVisitor.prototype,"visitFunctionCall",glslunit.CallGraphVisitor.prototype.visitFunctionCall);glslunit.CallGraphVisitor.getCallGraph=function(b){var d=new glslunit.CallGraphVisitor;d.visitNode(b);return d.callGraph_};glslunit.compiler={};glslunit.compiler.Utils=function(){};glslunit.compiler.Utils.getStructDeclarations=function(b){b=glslunit.NodeCollector.collectNodes(b,function(b,d){return"declarator"==b.type&&"struct_definition"==d.slice(-1)[0].type});var d=[];goog.array.forEach(b,function(b){d[b.id]=!0});return d};goog.object={};goog.object.forEach=function(b,d,e){for(var g in b)d.call(e,b[g],g,b)};goog.object.filter=function(b,d,e){var g={},k;for(k in b)d.call(e,b[k],k,b)&&(g[k]=b[k]);return g};goog.object.map=function(b,d,e){var g={},k;for(k in b)g[k]=d.call(e,b[k],k,b);return g};goog.object.some=function(b,d,e){for(var g in b)if(d.call(e,b[g],g,b))return!0;return!1};goog.object.every=function(b,d,e){for(var g in b)if(!d.call(e,b[g],g,b))return!1;return!0};
goog.object.getCount=function(b){var d=0,e;for(e in b)d++;return d};goog.object.getAnyKey=function(b){for(var d in b)return d};goog.object.getAnyValue=function(b){for(var d in b)return b[d]};goog.object.contains=function(b,d){return goog.object.containsValue(b,d)};goog.object.getValues=function(b){var d=[],e=0,g;for(g in b)d[e++]=b[g];return d};goog.object.getKeys=function(b){var d=[],e=0,g;for(g in b)d[e++]=g;return d};
goog.object.getValueByKeys=function(b,d){for(var e=goog.isArrayLike(d),g=e?d:arguments,e=e?0:1;e<g.length&&(b=b[g[e]],goog.isDef(b));e++);return b};goog.object.containsKey=function(b,d){return d in b};goog.object.containsValue=function(b,d){for(var e in b)if(b[e]==d)return!0;return!1};goog.object.findKey=function(b,d,e){for(var g in b)if(d.call(e,b[g],g,b))return g};goog.object.findValue=function(b,d,e){return(d=goog.object.findKey(b,d,e))&&b[d]};
goog.object.isEmpty=function(b){for(var d in b)return!1;return!0};goog.object.clear=function(b){for(var d in b)delete b[d]};goog.object.remove=function(b,d){var e;(e=d in b)&&delete b[d];return e};goog.object.add=function(b,d,e){if(d in b)throw Error('The object already contains the key "'+d+'"');goog.object.set(b,d,e)};goog.object.get=function(b,d,e){return d in b?b[d]:e};goog.object.set=function(b,d,e){b[d]=e};goog.object.setIfUndefined=function(b,d,e){return d in b?b[d]:b[d]=e};
goog.object.setWithReturnValueIfNotSet=function(b,d,e){if(d in b)return b[d];e=e();return b[d]=e};goog.object.equals=function(b,d){for(var e in b)if(!(e in d)||b[e]!==d[e])return!1;for(e in d)if(!(e in b))return!1;return!0};goog.object.clone=function(b){var d={},e;for(e in b)d[e]=b[e];return d};goog.object.unsafeClone=function(b){var d=goog.typeOf(b);if("object"==d||"array"==d){if(b.clone)return b.clone();var d="array"==d?[]:{},e;for(e in b)d[e]=goog.object.unsafeClone(b[e]);return d}return b};
goog.object.transpose=function(b){var d={},e;for(e in b)d[b[e]]=e;return d};goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");goog.object.extend=function(b,d){for(var e,g,k=1;k<arguments.length;k++){g=arguments[k];for(e in g)b[e]=g[e];for(var m=0;m<goog.object.PROTOTYPE_FIELDS_.length;m++)e=goog.object.PROTOTYPE_FIELDS_[m],Object.prototype.hasOwnProperty.call(g,e)&&(b[e]=g[e])}};
goog.object.create=function(b){var d=arguments.length;if(1==d&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(d%2)throw Error("Uneven number of arguments");for(var e={},g=0;g<d;g+=2)e[arguments[g]]=arguments[g+1];return e};goog.object.createSet=function(b){var d=arguments.length;if(1==d&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var e={},g=0;g<d;g++)e[arguments[g]]=!0;return e};
goog.object.createImmutableView=function(b){var d=b;Object.isFrozen&&!Object.isFrozen(b)&&(d=Object.create(b),Object.freeze(d));return d};goog.object.isImmutableView=function(b){return!!Object.isFrozen&&Object.isFrozen(b)};glslunit.ASTTransformer=function(){this.mixed_in_visitors_=[]};glslunit.ASTTransformer.nextId_=-1;glslunit.ASTTransformer.getNextId=function(){return glslunit.ASTTransformer.nextId_--};glslunit.ASTTransformer.cloneNode=function(b){b=goog.object.clone(b);b.id=glslunit.ASTTransformer.getNextId();return b};glslunit.ASTTransformer.prototype.mixinVisitor=function(b){this.mixed_in_visitors_.push(b)};glslunit.ASTTransformer.prototype.getTransformFunction=function(b){return this["transform"+glslunit.utils.getFunctionSuffix(b.type)]};
glslunit.ASTTransformer.prototype.mixinVisitFunctions_=function(b,d,e){var g=this[d+glslunit.utils.getFunctionSuffix(b.type)];return goog.bind(function(b){goog.array.forEach(this.mixed_in_visitors_,function(d){var g=e(d).apply(d,[b]);g&&g.apply(d,[b])});g&&g.apply(this,[b])},this)};glslunit.ASTTransformer.prototype.getBeforeTransformFunction=function(b){return this.mixinVisitFunctions_(b,"beforeTransform",function(b){return b.getBeforeVisitFunction})};
glslunit.ASTTransformer.prototype.getAfterTransformFunction=function(b){return this.mixinVisitFunctions_(b,"afterTransform",function(b){return b.getAfterVisitFunction})};
glslunit.ASTTransformer.prototype.transformNode=function(b){var d=!1,e=this.getBeforeTransformFunction(b);e&&e.apply(this,[b]);var e=glslunit.ASTTransformer.cloneNode(b),g;for(g in b){var k=b[g];if(goog.isArray(k)){e[g]=[];for(var m=0;m<k.length;m++){var r=k[m],p=this.transformNode(r);p!=r&&(d=!0);null!=p&&Array.prototype.push.apply(e[g],goog.isArray(p)?p:[p])}}else k&&k.type&&(p=this.transformNode(k),p!=k&&(d=!0,null!=p?e[g]=p:delete e[g]))}g=this.getTransformFunction(b);e=d?e:b;g&&(e=g.apply(this,
[e,b]));(d=this.getAfterTransformFunction(b))&&d.apply(this,[b,e]);return e};glslunit.compiler.ShaderJsConst=function(){this.expression=this.shortName=this.originalName=""};glslunit.compiler.ShaderMode=function(){this.shortName=this.preprocessorName="";this.options=[]};glslunit.compiler.ShaderMode.prototype.clone=function(){var b=goog.object.clone(this);b.options=goog.array.clone(this.options);return b};
glslunit.compiler.ShaderAttributeEntry=function(){this.originalName=this.shortName="";this.debugSourceSize=this.debugSourceOffset=this.compiledSourceSize=this.compiledSourceOffset=this.variableSize=0};glslunit.compiler.ShaderUniformEntry=function(){this.type=this.originalName=this.shortName=""};
glslunit.compiler.ShaderProgram=function(){this.namespace=this.superClass=this.template=this.className="";this.licenses=[];this.jsRequires=[];this.jsConsts=[];this.templateProperties={};this.prettyPrint=!1;this.originalFragmentSource=this.originalVertexSource="";this.attributeMap={};this.uniformMap={};this.shaderModes=[];this.fragmentAst={};this.vertexAst={};this.includedFiles={}};
glslunit.compiler.ShaderProgram.prototype.clone=function(){var b=goog.object.clone(this);b.attributeMap=goog.object.clone(this.attributeMap);b.uniformMap=goog.object.clone(this.uniformMap);b.templateProperties=goog.object.clone(this.templateProperties);b.jsRequires=goog.array.clone(this.jsRequires);b.includedFiles=goog.object.clone(this.includedFiles);b.jsConsts=this.jsConsts.map(function(b){return goog.object.clone(b)});b.shaderModes=this.shaderModes.map(function(b){return b.clone()});return b};
glslunit.compiler.ShaderProgram.prototype.getVertexSource=function(b){return glslunit.Generator.getSourceCode(this.vertexAst,b||"\\n",this.prettyPrint)};goog.exportProperty(glslunit.compiler.ShaderProgram.prototype,"getVertexSource",glslunit.compiler.ShaderProgram.prototype.getVertexSource);glslunit.compiler.ShaderProgram.prototype.getFragmentSource=function(b){return glslunit.Generator.getSourceCode(this.fragmentAst,b||"\\n",this.prettyPrint)};
goog.exportProperty(glslunit.compiler.ShaderProgram.prototype,"getFragmentSource",glslunit.compiler.ShaderProgram.prototype.getFragmentSource);glslunit.compiler.ShaderProgram.escapeString=function(b,d){return b.replace(/\n/g,d||"\\n").replace(/'/g,"\\'")};glslunit.compiler.ShaderProgram.prototype.getOriginalFragmentSource=function(b){return glslunit.compiler.ShaderProgram.escapeString(this.originalFragmentSource,b)};
goog.exportProperty(glslunit.compiler.ShaderProgram.prototype,"getOriginalFragmentSource",glslunit.compiler.ShaderProgram.prototype.getOriginalFragmentSource);glslunit.compiler.ShaderProgram.prototype.getOriginalVertexSource=function(b){return glslunit.compiler.ShaderProgram.escapeString(this.originalVertexSource,b)};goog.exportProperty(glslunit.compiler.ShaderProgram.prototype,"getOriginalVertexSource",glslunit.compiler.ShaderProgram.prototype.getOriginalVertexSource);
glslunit.compiler.ShaderProgram.prototype.getAttributes=function(){var b=[],d;for(d in this.attributeMap)b.push(this.attributeMap[d]);0<b.length&&(b[b.length-1].last=!0);return b};goog.exportProperty(glslunit.compiler.ShaderProgram.prototype,"getAttributes",glslunit.compiler.ShaderProgram.prototype.getAttributes);glslunit.compiler.ShaderProgram.prototype.getUniforms=function(){var b=[],d;for(d in this.uniformMap)b.push(this.uniformMap[d]);0<b.length&&(b[b.length-1].last=!0);return b};
goog.exportProperty(glslunit.compiler.ShaderProgram.prototype,"getUniforms",glslunit.compiler.ShaderProgram.prototype.getUniforms);
glslunit.compiler.ShaderProgram.prototype.defaultProgramShortNames=function(){goog.array.forEach(this.jsConsts,function(b){""==b.shortName&&(b.shortName=b.originalName)});var b={},d;for(d in this.attributeMap){var e=this.attributeMap[d];b[e.shortName]=e}d={};for(var g in this.uniformMap)e=this.uniformMap[g],d[e.shortName]=e;this.defaultProgramVariables_(this.vertexAst,b,d);this.defaultProgramVariables_(this.fragmentAst,b,d)};
glslunit.compiler.ShaderProgram.prototype.defaultProgramVariables_=function(b,d,e){b=glslunit.NodeCollector.collectNodes(b,function(b){return"declarator"==b.type&&("attribute"==b.typeAttribute.qualifier||"uniform"==b.typeAttribute.qualifier)});goog.array.forEach(b,function(b){goog.array.forEach(b.declarators,function(k){k=k.name.name;var m=b.typeAttribute.name;if("attribute"==b.typeAttribute.qualifier){var r=d[k];if(!r){r=new glslunit.compiler.ShaderAttributeEntry;r.shortName=k;r.originalName=k;var p=
glslunit.Generator.getSourceCode(b),z=this.originalVertexSource.search(p),m=parseInt(m.slice(3,4),10);r.variableSize=isNaN(m)?1:m;r.debugSourceOffset=z;r.debugSourceSize=p.length;this.attributeMap[k]=r}}else r=e[k],r||(r=new glslunit.compiler.ShaderUniformEntry,r.shortName=k,r.originalName=k,r.type=m,this.uniformMap[k]=r)},this)},this)};glslunit.compiler.CompilerStep=function(){};glslunit.compiler.CompilerStep.prototype.getName=function(){};glslunit.compiler.CompilerStep.prototype.getDependencies=function(){};glslunit.compiler.CompilerStep.prototype.performStep=function(b,d){};glslunit.compiler.Preprocessor=function(){};glslunit.compiler.Preprocessor.RE_LICENSE_=/\/\*\*\n \* @license[\s\S]*?\*\//g;glslunit.compiler.Preprocessor.RE_CLASS_=/\/\/!\s*CLASS=(\S*)/;glslunit.compiler.Preprocessor.RE_SUPERCLASS_=/\/\/!\s*SUPERCLASS=(\S*)/;glslunit.compiler.Preprocessor.RE_NAMESPACE_=/\/\/!\s*NAMESPACE=(\S*)/;glslunit.compiler.Preprocessor.RE_FRAGMENT_=/\/\/!\s*FRAGMENT/;glslunit.compiler.Preprocessor.RE_VERTEX_=/\/\/!\s*VERTEX/;glslunit.compiler.Preprocessor.RE_COMMON_=/\/\/!\s*COMMON/;
glslunit.compiler.Preprocessor.RE_INCLUDE_=/\/\/!\s*INCLUDE\s+(.*)/;glslunit.compiler.Preprocessor.RE_REQUIRE_=/\/\/!\s*REQUIRE\s+(.*)/;glslunit.compiler.Preprocessor.RE_PROVIDE_=/\/\/!\s*PROVIDE\s+(.*)/;glslunit.compiler.Preprocessor.RE_TEMPLATE_=/\/\/!\s*TEMPLATE\s+(.*)/;glslunit.compiler.Preprocessor.RE_DEFAULT_MODE_=/\/\/!\s*MODE\s+(\S+)/;glslunit.compiler.Preprocessor.RE_MODE_=/\/\/!\s*MODE\s+(\S+)\s+(.*)/;glslunit.compiler.Preprocessor.RE_JSREQUIRE_=/\/\/!\s*JSREQUIRE\s+(\S+)/;
glslunit.compiler.Preprocessor.RE_JSCONST_=/\/\/!\s*JSCONST\s+(\S+)\s+(.*)/;glslunit.compiler.Preprocessor.RE_OVERRIDE_=/\/\/!\s*OVERRIDE\s+(\S+)\s+(\S+)/;glslunit.compiler.Preprocessor.RE_OPTIMIZER_DIAG_PREFIX_=/^Error|Warning|Info:$/gm;glslunit.compiler.Preprocessor.RE_OPTIMIZER_DIAGNOSTICS_=/^\((\d+),\d+\): (error|warning|info): (.*)$/gm;
glslunit.compiler.Preprocessor.ParseFile=function(b,d,e){function g(b,d){return b.replace(glslunit.compiler.Preprocessor.RE_OPTIMIZER_DIAG_PREFIX_,"").replace(glslunit.compiler.Preprocessor.RE_OPTIMIZER_DIAGNOSTICS_,function(b,e,g,k,m,p){"error"===g&&(B=!0);b=d[e-1];console.log(b.fileName+":"+(b.localLine+1)+": "+g+": "+k);return""})}var k=[],m=[],r={},p;for(p in d)goog.array.forEach(d[p].split("\n"),function(b){if(b=glslunit.compiler.Preprocessor.RE_PROVIDE_.exec(b)){b=b[1];if(b in r)throw Error("Symbol "+
b+" is provided by two files, "+p+" and "+r[b]);r[b]=p}});b=glslunit.compiler.Preprocessor.ParseFileSource_(b,d,r,{},k,m);for(var z={},w,E=b.originalVertexSource+b.originalFragmentSource;w=glslunit.compiler.Preprocessor.RE_LICENSE_.exec(E);)w[0]in z||(z[w[0]]=!0,b.licenses.push(w[0]));z=b.originalVertexSource;w=b.originalFragmentSource;var B=!1;if(e){e=require("./glsl-optimizer").cwrap("optimize_glsl","string",["string","number","number"]);z=g(e(z,2,1),k);w=g(e(w,2,0),m);if(B)throw Error("Optimization pass failed.");
m=k=null}try{b.vertexAst=glslunit.glsl.parser.parse(z,"vertex_start")}catch(u){throw glslunit.compiler.Preprocessor.FormatParseError_(u,"vertex",k,w,d);}try{b.fragmentAst=glslunit.glsl.parser.parse(w,"fragment_start")}catch(F){throw glslunit.compiler.Preprocessor.FormatParseError_(F,"fragment",m,w,d);}b.defaultProgramShortNames();return b};glslunit.compiler.Preprocessor.Optimize_=function(b,d,e){};
glslunit.compiler.Preprocessor.FormatParseError_=function(b,d,e,g,k){d="Error while parsing the "+d+" shader code\n";if(e)e=e[b.line-1],d+=e.fileName+" "+(e.localLine+1)+":"+b.message+"\n"+k[e.fileName].split("\n")[e.localLine]+"\n"+Array(b.column).join(" ")+"^";else for(d+="<optimized code>:"+b.line+":"+b.message+"\n\nSource code:\n\n",b=g.split(/\r?\n/g),k=1;k<=b.length;++k)d+=k+": "+b[k-1]+"\n";return Error(d)};
glslunit.compiler.Preprocessor.ParseFileSource_=function(b,d,e,g,k,m){var r=!0,p=!0,z=new glslunit.compiler.ShaderProgram;if(!(b in d))throw Error("Library file "+b+" couldn't be found");var w=d[b].replace(/\\\n/g,"");goog.array.forEach(w.split("\n"),function(w,B){var u;if(u=glslunit.compiler.Preprocessor.RE_CLASS_.exec(w))z.className=u[1];else if(u=glslunit.compiler.Preprocessor.RE_SUPERCLASS_.exec(w))z.superClass=u[1];else if(u=glslunit.compiler.Preprocessor.RE_NAMESPACE_.exec(w))z.namespace=u[1];
else if(u=glslunit.compiler.Preprocessor.RE_FRAGMENT_.exec(w))p=!0,r=!1;else if(u=glslunit.compiler.Preprocessor.RE_VERTEX_.exec(w))p=!1,r=!0;else if(u=glslunit.compiler.Preprocessor.RE_COMMON_.exec(w))r=p=!0;else if(u=glslunit.compiler.Preprocessor.RE_MODE_.exec(w)){var F=new glslunit.compiler.ShaderMode;F.preprocessorName=u[1];u=u[2].split(",");if(2>u.length)throw b+" "+B+":0 Mode with less than two options given!\n\t"+w;goog.array.forEach(u,function(d){d=d.split(":");if(2!=d.length||!d[1].match(/^[0-9]+$/))throw b+
" "+B+":0 Mode option has invalid format!\n\t"+w;F.options.push({name:d[0],value:parseInt(d[1],10)})});z.shaderModes.push(F)}else if(u=glslunit.compiler.Preprocessor.RE_DEFAULT_MODE_.exec(w))F=new glslunit.compiler.ShaderMode,F.preprocessorName=u[1],F.options.push({name:"OFF",value:0}),F.options.push({name:"ON",value:1}),z.shaderModes.push(F);else if(u=glslunit.compiler.Preprocessor.RE_OVERRIDE_.exec(w))p&&(z.originalFragmentSource=glslunit.compiler.Preprocessor.OverrideFunction_(u[1],u[2],z.originalFragmentSource)),
r&&(z.originalVertexSource=glslunit.compiler.Preprocessor.OverrideFunction_(u[1],u[2],z.originalVertexSource));else if(u=glslunit.compiler.Preprocessor.RE_JSREQUIRE_.exec(w))z.jsRequires.push(u[1]);else if(u=glslunit.compiler.Preprocessor.RE_JSCONST_.exec(w)){var J=new glslunit.compiler.ShaderJsConst;J.originalName=u[1];J.expression=u[2];z.jsConsts.push(J)}p&&(z.originalFragmentSource+=w+"\n",m.push({fileName:b,localLine:B}));r&&(z.originalVertexSource+=w+"\n",k.push({fileName:b,localLine:B}));if(u=
glslunit.compiler.Preprocessor.RE_TEMPLATE_.exec(w))z.template=u[1];J=function(b){b in g||(g[b]=!0,b=glslunit.compiler.Preprocessor.ParseFileSource_(b,d,e,g,k,m),z.originalVertexSource+=b.originalVertexSource,z.originalFragmentSource+=b.originalFragmentSource,Array.prototype.push.apply(z.shaderModes,b.shaderModes),Array.prototype.push.apply(z.jsRequires,b.jsRequires),Array.prototype.push.apply(z.jsConsts,b.jsConsts))};if(u=glslunit.compiler.Preprocessor.RE_INCLUDE_.exec(w))J(u[1]);else if(u=glslunit.compiler.Preprocessor.RE_REQUIRE_.exec(w)){u=
u[1];if(!(u in e))throw Error("File "+b+"required symbol "+u+" but it was never provided.");J(e[u])}});return z};glslunit.compiler.Preprocessor.OverrideFunction_=function(b,d,e){for(var g=new RegExp("(void|float|int|bool|vec2|vec3|vec4| ivec2|ivec3|ivec4|bvec2|bvec3|bvec4|mat2|mat3|mat4)\\s+"+b+"(\\([^)]*\\))\\s*\\{","g"),k;k=g.exec(e);){var m=k[1];k=k[2];e=e.replace(g,m+" "+b+k+";"+m+" "+d+k+"{")}return e};glslunit.compiler.ConstructorMinifier=function(){glslunit.ASTTransformer.call(this);this.nodeStack_=[]};goog.inherits(glslunit.compiler.ConstructorMinifier,glslunit.ASTTransformer);glslunit.compiler.ConstructorMinifier.CONVERSION_FUNCTIONS_={vec2:2,vec3:3,vec4:4,bvec2:2,bvec3:3,bvec4:4,ivec2:2,ivec3:3,ivec4:4,mat2:4,mat3:9,mat4:16,"float":1,"int":1,bool:1};glslunit.compiler.ConstructorMinifier.prototype.getBeforeTransformFunction=function(b){return goog.bind(Array.prototype.push,this.nodeStack_)};
glslunit.compiler.ConstructorMinifier.prototype.getAfterTransformFunction=function(b){return goog.bind(Array.prototype.pop,this.nodeStack_)};glslunit.compiler.ConstructorMinifier.prototype.parentIsConstructor_=function(){var b=this.nodeStack_.slice(-2)[0];return"function_call"==b.type&&b.function_name in glslunit.compiler.ConstructorMinifier.CONVERSION_FUNCTIONS_};
glslunit.compiler.ConstructorMinifier.prototype.maybeConvertToInt_=function(b){if(this.parentIsConstructor_()&&65536>Math.abs(b.value)&&b.value==Math.round(b.value)){var d=glslunit.ASTTransformer.cloneNode(b);d.type="int";d.value=Number(b.value);return d}return b};glslunit.compiler.ConstructorMinifier.prototype.transformFloat=glslunit.compiler.ConstructorMinifier.prototype.maybeConvertToInt_;goog.exportProperty(glslunit.compiler.ConstructorMinifier.prototype,"transformFloat",glslunit.compiler.ConstructorMinifier.prototype.transformFloat);
glslunit.compiler.ConstructorMinifier.prototype.transformBool=glslunit.compiler.ConstructorMinifier.prototype.maybeConvertToInt_;goog.exportProperty(glslunit.compiler.ConstructorMinifier.prototype,"transformBool",glslunit.compiler.ConstructorMinifier.prototype.transformBool);
glslunit.compiler.ConstructorMinifier.prototype.transformFunctionCall=function(b){var d=glslunit.compiler.ConstructorMinifier.CONVERSION_FUNCTIONS_[b.function_name];if(d){if(this.parentIsConstructor_()&&b.parameters.length==d)return b.parameters;if(b.parameters&&1<b.parameters.length){var e=glslunit.Generator.getSourceCode(b.parameters[0]),g=!1;if("mat"==b.function_name.slice(0,3)){if(b.parameters.length==d){for(var d=!0,k=parseInt(b.function_name.slice(-1),10),m=0;m<k&&d;m++)for(var r=0;r<k&&d;r++)d=
glslunit.Generator.getSourceCode(b.parameters[m*k+r])==(m==r?e:"0");d&&(g=!0)}}else goog.array.every(b.parameters,function(b){return glslunit.Generator.getSourceCode(b)==e})&&(g=!0);if(g)return g=glslunit.ASTTransformer.cloneNode(b),g.parameters=[b.parameters[0]],g}}return b};goog.exportProperty(glslunit.compiler.ConstructorMinifier.prototype,"transformFunctionCall",glslunit.compiler.ConstructorMinifier.prototype.transformFunctionCall);glslunit.compiler.ConstructorMinifier.NAME="ConstructorMinifier";
glslunit.compiler.ConstructorMinifier.prototype.getName=function(){return glslunit.compiler.ConstructorMinifier.NAME};glslunit.compiler.ConstructorMinifier.prototype.getDependencies=function(){return[]};glslunit.compiler.ConstructorMinifier.prototype.performStep=function(b,d){var e=new glslunit.compiler.ConstructorMinifier,g=new glslunit.compiler.ConstructorMinifier;d.vertexAst=e.transformNode(d.vertexAst);d.fragmentAst=g.transformNode(d.fragmentAst);return[]};glslunit.compiler.BraceReducer=function(){glslunit.ASTTransformer.call(this)};goog.inherits(glslunit.compiler.BraceReducer,glslunit.ASTTransformer);glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_=function(b,d){var e=b[d],g=b;e&&"scope"==e.type&&1==e.statements.length&&(g=glslunit.ASTTransformer.cloneNode(b),g[d]=e.statements[0]);return g};
glslunit.compiler.BraceReducer.prototype.transformIfStatement=function(b){b=glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_(b,"body");return glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_(b,"elseBody")};goog.exportProperty(glslunit.compiler.BraceReducer.prototype,"transformIfStatement",glslunit.compiler.BraceReducer.prototype.transformIfStatement);
glslunit.compiler.BraceReducer.prototype.transformWhileStatement=function(b){return glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_(b,"body")};goog.exportProperty(glslunit.compiler.BraceReducer.prototype,"transformWhileStatement",glslunit.compiler.BraceReducer.prototype.transformWhileStatement);glslunit.compiler.BraceReducer.prototype.transformDoStatement=function(b){return glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_(b,"body")};
goog.exportProperty(glslunit.compiler.BraceReducer.prototype,"transformDoStatement",glslunit.compiler.BraceReducer.prototype.transformDoStatement);glslunit.compiler.BraceReducer.prototype.transformForStatement=function(b){return glslunit.compiler.BraceReducer.maybeConvertScopeToStatement_(b,"body")};goog.exportProperty(glslunit.compiler.BraceReducer.prototype,"transformForStatement",glslunit.compiler.BraceReducer.prototype.transformForStatement);glslunit.compiler.BraceReducer.NAME="BraceReducer";
glslunit.compiler.BraceReducer.prototype.getName=function(){return glslunit.compiler.BraceReducer.NAME};glslunit.compiler.BraceReducer.prototype.getDependencies=function(){return[]};glslunit.compiler.BraceReducer.prototype.performStep=function(b,d){var e=new glslunit.compiler.BraceReducer,g=new glslunit.compiler.BraceReducer;d.vertexAst=e.transformNode(d.vertexAst);d.fragmentAst=g.transformNode(d.fragmentAst);return[]};glslunit.compiler.DeadFunctionRemover=function(){glslunit.ASTTransformer.call(this);this.functionAlive_={}};goog.inherits(glslunit.compiler.DeadFunctionRemover,glslunit.ASTTransformer);glslunit.compiler.DeadFunctionRemover.prototype.beforeTransformRoot=function(b){b=glslunit.CallGraphVisitor.getCallGraph(b);this.functionAlive_={};for(var d in b)this.functionAlive_[d]=!1;this.markAlive_("main",b);this.markAlive_(glslunit.CallGraphVisitor.ROOT_NAME,b)};
goog.exportProperty(glslunit.compiler.DeadFunctionRemover.prototype,"beforeTransformRoot",glslunit.compiler.DeadFunctionRemover.prototype.beforeTransformRoot);glslunit.compiler.DeadFunctionRemover.prototype.markAlive_=function(b,d){b in this.functionAlive_&&!this.functionAlive_[b]&&(this.functionAlive_[b]=!0,goog.array.forEach(d[b],function(b){this.markAlive_(b,d)},this))};
glslunit.compiler.DeadFunctionRemover.prototype.transformFunctionDeclaration=function(b){return this.functionAlive_[b.name]?b:null};goog.exportProperty(glslunit.compiler.DeadFunctionRemover.prototype,"transformFunctionDeclaration",glslunit.compiler.DeadFunctionRemover.prototype.transformFunctionDeclaration);glslunit.compiler.DeadFunctionRemover.prototype.transformFunctionPrototype=glslunit.compiler.DeadFunctionRemover.prototype.transformFunctionDeclaration;
goog.exportProperty(glslunit.compiler.DeadFunctionRemover.prototype,"transformFunctionPrototype",glslunit.compiler.DeadFunctionRemover.prototype.transformFunctionPrototype);glslunit.compiler.DeadFunctionRemover.NAME="DeadFunctionRemover";glslunit.compiler.DeadFunctionRemover.prototype.getName=function(){return glslunit.compiler.DeadFunctionRemover.NAME};glslunit.compiler.DeadFunctionRemover.prototype.getDependencies=function(){return[]};
glslunit.compiler.DeadFunctionRemover.prototype.performStep=function(b,d){var e=new glslunit.compiler.DeadFunctionRemover,g=new glslunit.compiler.DeadFunctionRemover;d.vertexAst=e.transformNode(d.vertexAst);d.fragmentAst=g.transformNode(d.fragmentAst);return[]};glslunit.compiler.DeclarationConsolidation=function(b){glslunit.ASTTransformer.call(this);this.scopeIdToDeclarators_={};this.currentDeclarator_=null;this.typeMapStack_=[];this.forInitializerNodes_=[];this.structDeclaratorNodes_=[];this.consolidateInterface_=b};goog.inherits(glslunit.compiler.DeclarationConsolidation,glslunit.ASTTransformer);
glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformRoot=function(b){var d=glslunit.NodeCollector.collectNodes(b,function(b){return"for_statement"==b.type});goog.array.forEach(d,function(b){this.forInitializerNodes_[b.initializer.id]=!0},this);this.structDeclaratorNodes_=glslunit.compiler.Utils.getStructDeclarations(b);var d=glslunit.VariableScopeVisitor.getScopeToDeclarationMap(b),e;for(e in d){var g={};goog.array.forEach(d[+e],function(d){if("declarator"==d.type&&this.shouldConsolidateDeclarator_(d,
e==b.id)){var m=glslunit.Generator.getSourceCode(d.typeAttribute);g[m]||(g[m]=[]);goog.array.forEach(d.declarators,function(b){var d=b;d.initializer&&(d=glslunit.ASTTransformer.cloneNode(b),delete d.initializer);g[m].push(d)},this)}},this);this.scopeIdToDeclarators_[+e]=g}this.beforeTransformScope(b)};goog.exportProperty(glslunit.compiler.DeclarationConsolidation.prototype,"beforeTransformRoot",glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformRoot);
glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformDeclarator=function(b){this.currentDeclarator_=b};goog.exportProperty(glslunit.compiler.DeclarationConsolidation.prototype,"beforeTransformDeclarator",glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformDeclarator);glslunit.compiler.DeclarationConsolidation.prototype.afterTransformDeclarator=function(b){this.currentDeclarator_=null};
goog.exportProperty(glslunit.compiler.DeclarationConsolidation.prototype,"afterTransformDeclarator",glslunit.compiler.DeclarationConsolidation.prototype.afterTransformDeclarator);glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformScope=function(b){this.typeMapStack_.push(this.scopeIdToDeclarators_[b.id])};goog.exportProperty(glslunit.compiler.DeclarationConsolidation.prototype,"beforeTransformScope",glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformScope);
glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformPreprocessor=glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformScope;goog.exportProperty(glslunit.compiler.DeclarationConsolidation.prototype,"beforeTransformPreprocessor",glslunit.compiler.DeclarationConsolidation.prototype.beforeTransformPreprocessor);glslunit.compiler.DeclarationConsolidation.prototype.afterTransformScope=function(b){this.typeMapStack_.pop()};
goog.exportProperty(glslunit.compiler.DeclarationConsolidation.prototype,"afterTransformScope",glslunit.compiler.DeclarationConsolidation.prototype.afterTransformScope);glslunit.compiler.DeclarationConsolidation.prototype.afterTransformPreprocessor=glslunit.compiler.DeclarationConsolidation.prototype.afterTransformScope;goog.exportProperty(glslunit.compiler.DeclarationConsolidation.prototype,"afterTransformPreprocessor",glslunit.compiler.DeclarationConsolidation.prototype.afterTransformPreprocessor);
glslunit.compiler.DeclarationConsolidation.prototype.shouldConsolidateDeclarator_=function(b,d){var e=glslunit.Generator.getSourceCode(b.typeAttribute),g=null,k=b.typeAttribute.qualifier;0<this.typeMapStack_.length&&(g=this.typeMapStack_.slice(-1)[0][e]);return null!=b&&(this.consolidateInterface_||"attribute"!=k)&&(this.consolidateInterface_||"uniform"!=k)&&"const"!=b.typeAttribute.qualifier&&(!g||1<g.length)&&!(b.id in this.forInitializerNodes_)&&!(b.id in this.structDeclaratorNodes_)&&!(d&&!goog.array.every(b.declarators,
function(b){return!goog.isDef(b.initializer)}))};glslunit.compiler.DeclarationConsolidation.prototype.transformDeclaratorItem=function(b){return this.shouldConsolidateDeclarator_(this.currentDeclarator_,1==this.typeMapStack_.length)?b.initializer?{id:glslunit.ASTTransformer.getNextId(),type:"expression",expression:{id:glslunit.ASTTransformer.getNextId(),type:"binary",operator:{id:glslunit.ASTTransformer.getNextId(),type:"operator",operator:"="},left:b.name,right:b.initializer}}:null:b};
goog.exportProperty(glslunit.compiler.DeclarationConsolidation.prototype,"transformDeclaratorItem",glslunit.compiler.DeclarationConsolidation.prototype.transformDeclaratorItem);
glslunit.compiler.DeclarationConsolidation.prototype.transformDeclarator=function(b){if(!this.shouldConsolidateDeclarator_(b,1==this.typeMapStack_.length))return b;var d=[],e=glslunit.Generator.getSourceCode(b.typeAttribute),g=this.typeMapStack_.slice(-1)[0],k=g[e];k&&(d=glslunit.ASTTransformer.cloneNode(b),d.declarators=k,d=[d],delete g[e]);b.declarators&&0!=b.declarators.length&&Array.prototype.push.apply(d,b.declarators);return d};
goog.exportProperty(glslunit.compiler.DeclarationConsolidation.prototype,"transformDeclarator",glslunit.compiler.DeclarationConsolidation.prototype.transformDeclarator);glslunit.compiler.DeclarationConsolidation.NAME="DeclarationConsolidation";glslunit.compiler.DeclarationConsolidation.prototype.getName=function(){return glslunit.compiler.DeclarationConsolidation.NAME};glslunit.compiler.DeclarationConsolidation.prototype.getDependencies=function(){return[]};
glslunit.compiler.DeclarationConsolidation.prototype.performStep=function(b,d){var e=new glslunit.compiler.DeclarationConsolidation(this.consolidateInterface_),g=new glslunit.compiler.DeclarationConsolidation(this.consolidateInterface_);d.vertexAst=e.transformNode(d.vertexAst);d.fragmentAst=g.transformNode(d.fragmentAst);return[]};glslunit.compiler.Compiler=function(b){this.phaseToSteps_={};this.shaderProgram_=b;this.stepOutputs_={};this.registeredSteps_={};goog.array.forEach(glslunit.compiler.Compiler.CompilerPhase.PHASE_ORDER_,function(b){this.phaseToSteps_[b]=[]},this)};glslunit.compiler.Compiler.CompilerPhase={OPTIMIZATION:0,MINIFICATION:1};glslunit.compiler.Compiler.CompilerPhase.PHASE_ORDER_=[glslunit.compiler.Compiler.CompilerPhase.OPTIMIZATION,glslunit.compiler.Compiler.CompilerPhase.MINIFICATION];
glslunit.compiler.Compiler.prototype.registerStep=function(b,d){this.registeredSteps_[d.getName()]=d;this.phaseToSteps_[b].push(d)};glslunit.compiler.Compiler.prototype.compileProgram=function(){goog.array.forEach(glslunit.compiler.Compiler.CompilerPhase.PHASE_ORDER_,function(b){goog.array.forEach(this.phaseToSteps_[b],function(b){this.runStep_(b,[])},this)},this);return this.shaderProgram_};
glslunit.compiler.Compiler.prototype.runStep_=function(b,d){var e=b.getName(),g=d.concat(e);if(-1!=d.indexOf(e))throw"Circular dependcy in compiler steps.  "+g.join("->");e in this.stepOutputs_||(goog.array.forEach(b.getDependencies(),function(b){b in this.registeredSteps_&&this.runStep_(this.registeredSteps_[b],g)},this),this.stepOutputs_[e]=b.performStep(this.stepOutputs_,this.shaderProgram_))};glslunit.compiler.NameGenerator=function(){this.renameMap_={};this.usedKeys_={};this.nextDefinitionIndex=this.nextNameIndex=0};glslunit.compiler.NameGenerator.leadingCharacters_="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";glslunit.compiler.NameGenerator.trailingCharacters_=glslunit.compiler.NameGenerator.leadingCharacters_+"1234567890";
glslunit.compiler.NameGenerator.getShortName=function(b){var d=glslunit.compiler.NameGenerator.leadingCharacters_.length,e=glslunit.compiler.NameGenerator.trailingCharacters_.length,g=glslunit.compiler.NameGenerator.leadingCharacters_[b%d];for(b=Math.floor(b/d);0<b;)--b,g+=glslunit.compiler.NameGenerator.trailingCharacters_[b%e],b=Math.floor(b/e);return g};glslunit.compiler.NameGenerator.getShortDef=function(b){return"_"+glslunit.compiler.NameGenerator.getShortName(b)};
glslunit.compiler.NameGenerator.prototype.shortenSymbol=function(b){if(this.renameMap_[b])return this.renameMap_[b];for(var d=null;!d||d in this.usedKeys_;)d=glslunit.compiler.NameGenerator.getShortName(this.nextNameIndex++);this.usedKeys_[d]=!0;return this.renameMap_[b]=d};glslunit.compiler.NameGenerator.prototype.getNextShortDefinition=function(){return glslunit.compiler.NameGenerator.getShortDef(this.nextDefinitionIndex++)};
glslunit.compiler.NameGenerator.prototype.getShortSymbol=function(b){return this.renameMap_[b]||b};glslunit.compiler.NameGenerator.prototype.getNextNameIndex=function(){return this.nextNameIndex};glslunit.compiler.NameGenerator.prototype.clone=function(){var b=new glslunit.compiler.NameGenerator;b.renameMap_=goog.object.clone(this.renameMap_);b.usedKeys_=goog.object.clone(this.usedKeys_);b.nextNameIndex=this.nextNameIndex;b.nextDefinitionIndex=this.nextDefinitionIndex;return b};glslunit.compiler.VariableMinifier=function(b){glslunit.ASTTransformer.call(this);this.variableStack_=[];this.currentNameGenerator_=new glslunit.compiler.NameGenerator;this.currentDeclaratorNode_=null;this.maxNameId_=0;this.minifyPublicVariables_=b;this.structDeclaratorNodes_=[]};goog.inherits(glslunit.compiler.VariableMinifier,glslunit.ASTTransformer);
glslunit.compiler.VariableMinifier.prototype.shouldRenameNode_=function(b){if(!b)return!1;var d=b.typeAttribute.qualifier;return(this.minifyPublicVariables_||"uniform"!=d&&"attribute"!=d)&&!(b.id in this.structDeclaratorNodes_)};glslunit.compiler.VariableMinifier.prototype.setShaderProgram=function(b){this.shaderProgram_=b};
glslunit.compiler.VariableMinifier.prototype.beforeTransformRoot=function(b){this.structDeclaratorNodes_=glslunit.compiler.Utils.getStructDeclarations(b);var d=[];b=glslunit.VariableScopeVisitor.getVariablesInScope(b,b,!0);for(var e in b){var g=b[e];this.shouldRenameNode_(g)&&(g=g.typeAttribute.qualifier,"varying"==g||"uniform"==g?this.currentNameGenerator_.shortenSymbol(e):d.push(e))}goog.array.forEach(d,function(b){this.currentNameGenerator_.shortenSymbol(b)},this)};
goog.exportProperty(glslunit.compiler.VariableMinifier.prototype,"beforeTransformRoot",glslunit.compiler.VariableMinifier.prototype.beforeTransformRoot);glslunit.compiler.VariableMinifier.prototype.beforeTransformDeclarator=function(b){this.currentDeclaratorNode_=b};goog.exportProperty(glslunit.compiler.VariableMinifier.prototype,"beforeTransformDeclarator",glslunit.compiler.VariableMinifier.prototype.beforeTransformDeclarator);
glslunit.compiler.VariableMinifier.prototype.afterTransformDeclarator=function(b){this.currentDeclaratorNode_=null};goog.exportProperty(glslunit.compiler.VariableMinifier.prototype,"afterTransformDeclarator",glslunit.compiler.VariableMinifier.prototype.afterTransformDeclarator);glslunit.compiler.VariableMinifier.prototype.transformParameter=function(b){var d=glslunit.ASTTransformer.cloneNode(b);d.name=this.currentNameGenerator_.shortenSymbol(b.name);return d};
goog.exportProperty(glslunit.compiler.VariableMinifier.prototype,"transformParameter",glslunit.compiler.VariableMinifier.prototype.transformParameter);glslunit.compiler.VariableMinifier.prototype.pushStack_=function(b){this.variableStack_.push(this.currentNameGenerator_);this.currentNameGenerator_=this.currentNameGenerator_.clone()};
glslunit.compiler.VariableMinifier.prototype.popStack_=function(b){this.maxNameId_=Math.max(this.maxNameId_,this.currentNameGenerator_.getNextNameIndex());this.currentNameGenerator_=this.variableStack_.pop()};glslunit.compiler.VariableMinifier.prototype.beforeTransformScope=glslunit.compiler.VariableMinifier.prototype.pushStack_;goog.exportProperty(glslunit.compiler.VariableMinifier.prototype,"beforeTransformScope",glslunit.compiler.VariableMinifier.prototype.beforeTransformScope);
glslunit.compiler.VariableMinifier.prototype.afterTransformScope=glslunit.compiler.VariableMinifier.prototype.popStack_;goog.exportProperty(glslunit.compiler.VariableMinifier.prototype,"afterTransformScope",glslunit.compiler.VariableMinifier.prototype.afterTransformScope);glslunit.compiler.VariableMinifier.prototype.beforeTransformFunctionDeclaration=glslunit.compiler.VariableMinifier.prototype.pushStack_;
goog.exportProperty(glslunit.compiler.VariableMinifier.prototype,"beforeTransformFunctionDeclaration",glslunit.compiler.VariableMinifier.prototype.beforeTransformFunctionDeclaration);glslunit.compiler.VariableMinifier.prototype.afterTransformFunctionDeclaration=glslunit.compiler.VariableMinifier.prototype.popStack_;goog.exportProperty(glslunit.compiler.VariableMinifier.prototype,"afterTransformFunctionDeclaration",glslunit.compiler.VariableMinifier.prototype.afterTransformFunctionDeclaration);
glslunit.compiler.VariableMinifier.prototype.beforeTransformFunctionPrototype=glslunit.compiler.VariableMinifier.prototype.pushStack_;goog.exportProperty(glslunit.compiler.VariableMinifier.prototype,"beforeTransformFunctionPrototype",glslunit.compiler.VariableMinifier.prototype.beforeTransformFunctionPrototype);glslunit.compiler.VariableMinifier.prototype.afterTransformFunctionPrototype=glslunit.compiler.VariableMinifier.prototype.popStack_;
goog.exportProperty(glslunit.compiler.VariableMinifier.prototype,"afterTransformFunctionPrototype",glslunit.compiler.VariableMinifier.prototype.afterTransformFunctionPrototype);
glslunit.compiler.VariableMinifier.prototype.beforeTransformDeclaratorItem=function(b){var d=b.name.name,e;this.currentDeclaratorNode_&&(e=this.currentDeclaratorNode_.typeAttribute.qualifier);this.shouldRenameNode_(this.currentDeclaratorNode_)&&(d=this.currentNameGenerator_.shortenSymbol(b.name.name));this.shaderProgram_&&this.currentDeclaratorNode_&&("attribute"==e?this.shaderProgram_.attributeMap[b.name.name].shortName=d:"uniform"==e&&(this.shaderProgram_.uniformMap[b.name.name].shortName=d));return b};
goog.exportProperty(glslunit.compiler.VariableMinifier.prototype,"beforeTransformDeclaratorItem",glslunit.compiler.VariableMinifier.prototype.beforeTransformDeclaratorItem);glslunit.compiler.VariableMinifier.prototype.transformIdentifier=function(b){var d=this.currentNameGenerator_.getShortSymbol(b.name);b.name!=d&&(b=glslunit.ASTTransformer.cloneNode(b),b.name=d);return b};goog.exportProperty(glslunit.compiler.VariableMinifier.prototype,"transformIdentifier",glslunit.compiler.VariableMinifier.prototype.transformIdentifier);
glslunit.compiler.VariableMinifier.NAME="VariableMinifier";glslunit.compiler.VariableMinifier.prototype.getName=function(){return glslunit.compiler.VariableMinifier.NAME};glslunit.compiler.VariableMinifier.prototype.getDependencies=function(){return[]};
glslunit.compiler.VariableMinifier.prototype.performStep=function(b,d){var e=new glslunit.compiler.VariableMinifier(this.minifyPublicVariables_);e.setShaderProgram(d);d.vertexAst=e.transformNode(d.vertexAst);var g=new glslunit.compiler.VariableMinifier(this.minifyPublicVariables_);g.setShaderProgram(d);g.currentNameGenerator_=e.currentNameGenerator_;d.fragmentAst=g.transformNode(d.fragmentAst);return{vertexMaxId:e.maxNameId_,fragmentMaxId:g.maxNameId_}};glslunit.compiler.FunctionMinifier=function(){glslunit.ASTTransformer.call(this);this.nameGenerator_=new glslunit.compiler.NameGenerator};goog.inherits(glslunit.compiler.FunctionMinifier,glslunit.ASTTransformer);glslunit.compiler.FunctionMinifier.globalFunctions_={main:!0};glslunit.compiler.FunctionMinifier.prototype.beforeTransformFunctionDeclaration=function(b){b.name in glslunit.compiler.FunctionMinifier.globalFunctions_||this.nameGenerator_.shortenSymbol(b.name)};
goog.exportProperty(glslunit.compiler.FunctionMinifier.prototype,"beforeTransformFunctionDeclaration",glslunit.compiler.FunctionMinifier.prototype.beforeTransformFunctionDeclaration);glslunit.compiler.FunctionMinifier.prototype.transformFunctionDeclaration=function(b){var d=this.nameGenerator_.getShortSymbol(b.name);d!=b.name&&(b=glslunit.ASTTransformer.cloneNode(b),b.name=d);return b};goog.exportProperty(glslunit.compiler.FunctionMinifier.prototype,"transformFunctionDeclaration",glslunit.compiler.FunctionMinifier.prototype.transformFunctionDeclaration);
glslunit.compiler.FunctionMinifier.prototype.transformFunctionCall=function(b){var d=this.nameGenerator_.getShortSymbol(b.function_name);d!=b.function_name&&(b=glslunit.ASTTransformer.cloneNode(b),b.function_name=d);return b};goog.exportProperty(glslunit.compiler.FunctionMinifier.prototype,"transformFunctionCall",glslunit.compiler.FunctionMinifier.prototype.transformFunctionCall);glslunit.compiler.FunctionMinifier.prototype.beforeTransformFunctionPrototype=glslunit.compiler.FunctionMinifier.prototype.beforeTransformFunctionDeclaration;
goog.exportProperty(glslunit.compiler.FunctionMinifier.prototype,"beforeTransformFunctionPrototype",glslunit.compiler.FunctionMinifier.prototype.beforeTransformFunctionPrototype);glslunit.compiler.FunctionMinifier.prototype.transformFunctionPrototype=glslunit.compiler.FunctionMinifier.prototype.transformFunctionDeclaration;goog.exportProperty(glslunit.compiler.FunctionMinifier.prototype,"transformFunctionPrototype",glslunit.compiler.FunctionMinifier.prototype.transformFunctionPrototype);
glslunit.compiler.FunctionMinifier.NAME="Function Minifier";glslunit.compiler.FunctionMinifier.prototype.getName=function(){return glslunit.compiler.FunctionMinifier.NAME};glslunit.compiler.FunctionMinifier.prototype.getDependencies=function(){return[glslunit.compiler.VariableMinifier.NAME]};
glslunit.compiler.FunctionMinifier.prototype.performStep=function(b,d){var e=0,g=0;glslunit.compiler.VariableMinifier.NAME in b&&(e=b[glslunit.compiler.VariableMinifier.NAME].vertexMaxId,g=b[glslunit.compiler.VariableMinifier.NAME].fragmentMaxId);var k=new glslunit.compiler.FunctionMinifier;k.nameGenerator_.nextNameIndex=e;e=new glslunit.compiler.FunctionMinifier;d.vertexAst=k.transformNode(d.vertexAst);e.nameGenerator_.nextNameIndex=g;d.fragmentAst=e.transformNode(d.fragmentAst);return[]};var glslprep={};goog.node.FLAGS.define_string("input",void 0,"The input file in GLSL.");goog.node.FLAGS.define_string("output","","The output js file.");goog.node.FLAGS.define_string("template","","The output shader source code file.");goog.node.FLAGS.define_string("glsl_include_prefix","","Compiler will try prefixing this flag to the path of glsllib files. If not found there use ones in current directory.");goog.node.FLAGS.define_string_array("template_include_prefix",[],"Compiler will try prefixing this flag to the path of template files. If not found there use ones in current directory.");
goog.node.FLAGS.define_bool("remove_dead_functions",!0,"Compiler will remove any functions it determines to be dead.");goog.node.FLAGS.define_string("variable_renaming","ALL","The level at which the compiler will minify variable names.  ALL will minify all variable names, including uniforms and attributes but can also output a map of old names to new names.  INTERNAL will only minifyvariables that aren't exposed to JavaScript.  OFF won't minify any variables.");
goog.node.FLAGS.define_string("consolidate_declarations","ALL","The level at which the compiler will consolidate declarations.  ALL will consolidate all declarations, including attributes (this can change the values returned by getAttribLocation).  INTERNAL will consolidate all variables with the exception of attributes.  OFF won'tconsolidate any attributes.");goog.node.FLAGS.define_bool("run_optimizer",!0,"Run emscripten-compiled glsl-optimizer");
goog.node.FLAGS.define_bool("function_renaming",!0,"Compiler will minify all function names.");goog.node.FLAGS.define_bool("remove_braces",!0,"Remove all braces that aren't required.");goog.node.FLAGS.define_bool("minify_constructors",!0,"Compiler will minify all constructor calls where it can by removing inputs and converting types to int where possible.  For example, vec4(1.0, 1.0, 1.0, 1.0) will become vec4(1).");goog.node.FLAGS.define_bool("pretty_print",!1,"Output pretty-printed GLSL source code.");
goog.node.FLAGS.define_string_array("template_property",[],"Properties to be passed down to template for rendering.");goog.node.FLAGS.parseArgs();var GLSL_EXTENSIONS={".glsl":!0,".glsllib":!0};
function loadFiles(b,d,e){var g=[b];e=e||function(b){return!0};d&&d.forEach(function(d){g.push(path.join(b,d))});var k={};g.forEach(function(b){fs.readdirSync(b).filter(function(d){return!fs.statSync(path.join(b,d)).isDirectory()&&e(d)}).forEach(function(d){k[d]=fs.readFileSync(path.join(b,d),"utf8")})});return k}
function main(){var b=path.dirname(goog.node.FLAGS.input),d=loadFiles(b,goog.node.FLAGS.glsl_include_prefix,function(b){return path.extname(b)in GLSL_EXTENSIONS}),b=loadFiles(b,goog.node.FLAGS.template_include_prefix);(new Date).getTime();try{var e=glslunit.compiler.Preprocessor.ParseFile(path.basename(goog.node.FLAGS.input),d,goog.node.FLAGS.run_optimizer)}catch(g){console.error(g.message),process.exit(1)}(new Date).getTime();(new Date).getTime();e=new glslunit.compiler.Compiler(e);d={ALL:!0,INTERNAL:!1};
goog.node.FLAGS.remove_dead_functions&&e.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.DeadFunctionRemover);goog.node.FLAGS.remove_braces&&e.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.BraceReducer);goog.node.FLAGS.variable_renaming in d&&e.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.VariableMinifier(d[goog.node.FLAGS.variable_renaming]));goog.node.FLAGS.consolidate_declarations in
d&&e.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.DeclarationConsolidation(d[goog.node.FLAGS.consolidate_declarations]));goog.node.FLAGS.function_renaming&&e.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.FunctionMinifier);goog.node.FLAGS.minify_constructors&&e.registerStep(glslunit.compiler.Compiler.CompilerPhase.MINIFICATION,new glslunit.compiler.ConstructorMinifier);e=e.compileProgram();e.prettyPrint=goog.node.FLAGS.pretty_print;
(new Date).getTime();var k={};goog.node.FLAGS.template_property.forEach(function(b){var d=b.split("=",2);2!=d.length&&(console.error("Invalid template property: "+b),process.exit(1));k[d[0]]=d[1]});e.templateProperties=k;d="";e.template||goog.node.FLAGS.template?(d="",e.template?(d=b[e.template],d||(console.error("Could not find template "+e.template),process.exit(1))):d=fs.readFileSync(goog.node.FLAGS.template,"utf8"),e.defaultProgramShortNames(),d=Mustache.to_html(d,e)+"\n"):d="\n//! VERTEX\n"+
glslunit.Generator.getSourceCode(e.vertexAst,"\\n")+"\n//! FRAGMENT\n"+glslunit.Generator.getSourceCode(e.fragmentAst,"\\n");goog.node.FLAGS.output?fs.writeFileSync(goog.node.FLAGS.output,d):process.stdout.write(d)}main();

